(self.webpackChunk=self.webpackChunk||[]).push([[1982],{24846:(e,t,n)=>{"use strict";n.d(t,{Z:()=>o});var r=n(59403),a=n.n(r);const o=(0,n(75672).$j)((function(e){var t=e.client,n=e.ui;return{currencies:t.currencies_list,has_currency:!!t.currency,has_real_account:t.has_active_real_account,legal_allowed_currencies:t.upgradeable_currencies,real_account_signup:n.real_account_signup,resetRealAccountSignupParams:n.resetRealAccountSignupParams,selectable_currencies:t.selectable_currencies,real_account_signup_target:n.real_account_signup_target,is_dxtrade_allowed:t.is_dxtrade_allowed,is_mt5_allowed:t.is_mt5_allowed}}))(a())},26677:(e,t,n)=>{"use strict";n.d(t,{Z:()=>o});var r=n(62762),a=n.n(r);const o=(0,n(75672).$j)((function(e){var t=e.client;return{is_gb_residence:"gb"===t.residence,fetchStatesList:t.fetchStatesList,states_list:t.states_list}}))(a())},78568:(e,t,n)=>{"use strict";n.d(t,{FX:()=>a,GH:()=>o,Sj:()=>c});var r=n(20374),a={SUCCESS:1,WARN:0,DANGER:-1,PENDING:-2},o=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=t.account_residence,a=void 0===n?"":n;if("be"===a)return(0,r.localize)("Real Synthetic");if("im"===a)return(0,r.localize)("Deriv account");switch(e){case"svg":return(0,r.localize)("Deriv account");case"iom":case"malta":return(0,r.localize)("Deriv Synthetic");case"maltainvest":return(0,r.localize)("Deriv Financial");default:return(0,r.localize)("Deriv")}},c=function(e){var t=e.landing_company_shortcode,n=void 0===t?"":t,r=e.is_fully_authenticated,o=void 0!==r&&r,c=e.is_age_verified,i=void 0!==c&&c,l=e.is_isle_of_man_residence,s=void 0!==l&&l,u=e.is_belgium_residence;return"svg"===n||s||void 0!==u&&u?a.SUCCESS:"iom"===n?o?a.SUCCESS:i?a.WARN:a.DANGER:a.SUCCESS}},55501:(e,t,n)=>{"use strict";n.d(t,{Z:()=>te});var r=n(40841),a=n.n(r),o=n(32735),c=n(13799),i=n(65597),l=n(53289),s=n(20374),u=n(75672),d=n(76541),_=n(17819),m=n(78247),f=n.n(m),g=n(24846),p=n(58226);function y(){return(y=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function v(e,t){if(null==e)return{};var n,r,a=function(e,t){if(null==e)return{};var n,r,a={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(a[n]=e[n]);return a}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}const h=(0,u.$j)((function(e){var t=e.client;return{available_crypto_currencies:t.available_crypto_currencies,can_change_fiat_currency:t.can_change_fiat_currency,currency:t.currency,current_currency_type:t.current_currency_type,current_fiat_currency:t.current_fiat_currency,is_eu:t.is_eu,has_fiat:t.has_fiat,landing_company_shortcode:t.landing_company_shortcode,setCurrency:t.setAccountCurrency,createCryptoAccount:t.createCryptoAccount}}))((function(e){var t=e.setLoading,n=e.onSuccessSetAccountCurrency,r=e.onError,c=e.available_crypto_currencies,u=e.has_fiat,d=e.landing_company_shortcode,_=e.is_loading,m=v(e,["setLoading","onSuccessSetAccountCurrency","onError","available_crypto_currencies","has_fiat","landing_company_shortcode","is_loading"]),h=o.useState(""),b=o.useState({currency:""}),E=function(){return 0===c.length&&u};return _?o.createElement(p.Z,null):o.createElement("div",{className:a()("set-currency-modal",{"set-currency-modal--disabled":E()})},E()&&o.createElement("div",{className:"set-currency-modal--disabled-message"},o.createElement("p",null,(0,s.localize)("You already have an account for each of the cryptocurrencies available on {{deriv}}.",{deriv:l.website_name}))),o.createElement("div",{className:"set-currency-modal__heading-container"},o.createElement(i.Text,{as:"p",size:"xs",line_height:"s",align:"center",className:"set-currency-modal__heading-container__main-heading"},(0,s.localize)("You have an account that do not have currency assigned. Please choose a currency to trade with this account.")),o.createElement(i.Text,{as:"p",weight:"bold",align:"center",className:"set-currency-modal__heading-container__sub-heading"},(0,s.localize)("Please choose your currency"))),o.createElement(g.Z,y({className:"account-wizard__body",onSubmit:function(e,a,o){!function(e,a){t(!0);var o=e.currency;o&&m.setCurrency(o).then((function(e){a(!1),n("",e.echo_req.set_account_currency)})).catch((function(e){r(e)})).finally((function(){return t(!1)}))}(a,o)},value:b,form_error:h,set_currency:!0,validate:(0,l.generateValidationFunction)(d,f())},m)))}));var b=function(e){var t=e.prev,n=e.current;return t?o.createElement(s.Localize,{i18n_default_text:"<0>You have successfully changed your currency to {{currency}}.</0><0>Make a deposit now to start trading.</0>",values:{currency:(0,l.getCurrencyDisplayCode)(n)},components:[o.createElement(i.Text,{as:"p",align:"center",className:"status-dialog__message-text",color:"general",size:"xs",key:n})]}):o.createElement(s.Localize,{i18n_default_text:"<0>You have added a {{currency}} account.</0><0> Make a deposit now to start trading.</0>",values:{currency:(0,l.getCurrencyDisplayCode)(n)},components:[o.createElement(i.Text,{as:"p",align:"center",className:"status-dialog__message-text",color:"general",size:"xs",key:n})]})},E=function(e){var t=e.current,n=e.onCancel,r=e.onSubmit,c=e.prev,u=function(){return c?o.createElement(i.Icon,{icon:"IcCurrency-".concat(c.toLowerCase()),height:120,width:90}):null},d=function(){return o.createElement(i.Icon,{icon:"IcCurrency-".concat(t.toLowerCase()),height:120,width:90})},_=function(){return c?o.createElement(i.Icon,{icon:"IcArrowPointerRight",color:"red",width:50,height:20}):null},m=function(e){var t=e.className;return o.createElement(i.Icon,{className:t,icon:"IcCheckmarkCircle",color:"green"})};return o.createElement(i.Div100vhContainer,{className:"status-dialog",is_disabled:(0,l.isDesktop)(),height_offset:"40px"},o.createElement("div",{className:a()("status-dialog__header",{"status-dialog__header--center":(0,l.isMobile)(),"status-dialog__header--set-currency":c})},o.createElement(u,null),o.createElement(_,null),o.createElement(d,null),o.createElement(m,{className:"bottom-right-overlay"})),o.createElement("div",{className:a()("status-dialog__body",{"status-dialog__body--no-grow":(0,l.isMobile)()})},o.createElement(i.Text,{as:"h2",align:"center",className:"status-dialog__message-header",weight:"bold"},o.createElement(s.Localize,{i18n_default_text:"Success!"})),o.createElement(b,{prev:c,current:t})),o.createElement("div",{className:"status-dialog__footer"},o.createElement(i.Button,{onClick:r,text:(0,s.localize)("Deposit now"),primary:!0}),o.createElement(i.Button,{onClick:n,text:(0,s.localize)("Maybe later"),secondary:!0})))};const w=o.memo(E);var S=n(60216),A=n.n(S),O=function(e){switch(e.code){case"InvalidPhone":return o.createElement(i.Text,{as:"h1",align:"center",weight:"bold"},o.createElement(s.Localize,{i18n_default_text:"Let’s try that again"}));case"DuplicateAccount":return o.createElement(i.Text,{as:"h1",align:"center",weight:"bold"},o.createElement(s.Localize,{i18n_default_text:"Already signed up?"}));default:return o.createElement(i.Text,{as:"h1",align:"center",weight:"bold"},o.createElement(s.Localize,{i18n_default_text:"Something’s not right"}))}},C=function(e){var t=e.code,n=e.message;switch(t){case"DuplicateAccount":return o.createElement("p",null,o.createElement(s.Localize,{i18n_default_text:"An account with your details already exists."}),o.createElement("br",null),o.createElement(s.Localize,{i18n_default_text:"If you're having trouble signing in, let us know via <0>chat</0>",components:[o.createElement("span",{className:"chat-inline",key:0,onClick:function(){return window.LC_API.open_chat_window()}})]}));default:return o.createElement("p",null,n)}},x=function(e){var t=e.text,n=e.onConfirm;return o.createElement(i.Button,{primary:!0,onClick:n,large:!0},t)},M=function(e){var t=e.code,n=e.onConfirm;switch(t){case"CurrencyTypeNotAllowed":return o.createElement(x,{text:(0,s.localize)("Try a different currency"),onConfirm:n});case"InvalidPhone":return o.createElement(x,{text:(0,s.localize)("Try a different phone number"),onConfirm:n});case"DuplicateAccount":return null;default:return o.createElement(i.StaticUrl,{href:"help-centre",type:"button",className:"dc-btn dc-btn--primary"},o.createElement(i.Text,{weight:"bold",color:"white",size:"xxs"},o.createElement(s.Localize,{i18n_default_text:"OK"})))}},z=function(e){var t=e.message,n=e.code,r=e.onConfirm;return o.createElement("div",{className:"account-wizard--error"},o.createElement(i.Icon,{icon:"IcAccountError",size:115}),o.createElement(O,{code:n}),o.createElement(C,{code:n,message:t}),o.createElement(M,{code:n,onConfirm:r}))};z.propTypes={code:A().string,message:A().string,onConfirm:A().func};const N=z;var I=n(78568),P=function(e){var t=e.status;return o.createElement(i.Text,{as:"h2",align:"center",className:"status-dialog__message-header",weight:"bold"},t===I.FX.SUCCESS&&o.createElement(s.Localize,{i18n_default_text:"Your account is ready"}),t===I.FX.WARN&&o.createElement(s.Localize,{i18n_default_text:"Please verify your address"}),t===I.FX.DANGER&&o.createElement(s.Localize,{i18n_default_text:"Please verify your identity and address"}),t===I.FX.PENDING&&o.createElement(s.Localize,{i18n_default_text:"We're processing your personal information"}))},L=function(e){var t=e.status;switch(e.landing_company_shortcode){case"iom":return o.createElement(P,{status:t});default:return o.createElement(i.Text,{as:"h2",align:"center",className:"status-dialog__message-header",weight:"bold"},o.createElement(s.Localize,{i18n_default_text:"Your account is ready"}))}};L.propTypes={status:A().number.isRequired,landing_company_shortcode:A().string.isRequired};var k=function(e){var t=e.status,n=void 0===t?I.FX.SUCCESS:t,r=e.landing_company_shortcode,a=e.is_fully_authenticated,c="";if("maltainvest"===r)c=a?[o.createElement(s.Localize,{key:0,i18n_default_text:"You have added a Deriv Financial account."}),o.createElement(s.Localize,{key:1,i18n_default_text:"Make a deposit now to start trading."})]:o.createElement(s.Localize,{i18n_default_text:"We need proofs of your identity and address before you can start trading."});else switch(n){case I.FX.WARN:c=o.createElement(s.Localize,{i18n_default_text:"To get trading, please confirm where you live."});break;case I.FX.DANGER:c=o.createElement(s.Localize,{i18n_default_text:"To get trading, please confirm who you are, and where you live."});break;case I.FX.PENDING:c=o.createElement(s.Localize,{i18n_default_text:"You'll be able to get trading as soon as verification is complete."});break;default:c=o.createElement(s.Localize,{i18n_default_text:"Fund your account to start trading."})}return Array.isArray(c)?o.createElement(o.Fragment,null,c.map((function(e,t){return o.createElement(i.Text,{key:t,as:"p",align:"center",className:"status-dialog__message-text",color:"general",size:"xs"},e)}))):o.createElement(i.Text,{as:"p",align:"center",className:"status-dialog__message-text",color:"general",size:"xs"},c)};k.propTypes={currency:A().string,is_isle_of_man_residence:A().bool,landing_company_shortcode:A().string,status:A().number};var T=function(e){var t=e.status,n=e.landing_company_shortcode,r=e.closeModal,a=e.closeModalAndOpenCashier,c=e.closeModalAndOpenPOI,l=e.closeModalAndOpenPOA,u=function(e){var t=e.status,n=e.landing_company_shortcode,r=e.is_fully_authenticated,a=e.closeModal,o=e.closeModalAndOpenCashier,c=e.closeModalAndOpenPOI,i=e.closeModalAndOpenPOA;switch(n){case"iom":return t===I.FX.DANGER?{label:(0,s.localize)("Submit proofs"),action:c}:t===I.FX.WARN?{label:(0,s.localize)("Submit proof"),action:i}:t===I.FX.PENDING?{label:(0,s.localize)("OK"),action:a}:{label:(0,s.localize)("Deposit now"),action:o};case"maltainvest":return r?{label:(0,s.localize)("Deposit now"),action:o}:{label:(0,s.localize)("Submit proof"),action:c};case"svg":case"malta":default:return{label:(0,s.localize)("Deposit now"),action:o}}}({status:t,landing_company_shortcode:n,is_fully_authenticated:e.is_fully_authenticated,closeModal:r,closeModalAndOpenCashier:a,closeModalAndOpenPOI:c,closeModalAndOpenPOA:l}),d=u.label,_=u.action;return o.createElement(i.Button,{primary:!0,text:d,onClick:_})},R=function(e){var t=e.status,n=e.landing_company_shortcode,r=e.closeModal,a=e.switchToVirtual;if(e.is_bypassed)return null;var c=function(e){var t=e.status,n=e.landing_company_shortcode,r=e.closeModal,a=e.switchToVirtual;switch(n){case"iom":return t===I.FX.SUCCESS?{label:(0,s.localize)("Maybe later"),action:r}:t===I.FX.WARN?{label:(0,s.localize)("Trade on demo"),action:function(){r(),a()}}:{label:(0,s.localize)("Maybe later"),action:r};default:return{label:(0,s.localize)("Maybe later"),action:r}}}({status:t,landing_company_shortcode:n,closeModal:r,switchToVirtual:a}),l=c.label,u=c.action;return o.createElement(i.Button,{secondary:!0,text:l,onClick:u})},j=function(e){var t=e.status,n=e.landing_company_shortcode,r=e.is_fully_authenticated,a=e.closeModal,c=e.closeModalAndOpenCashier,i=e.closeModalAndOpenPOA,l=e.closeModalAndOpenPOI,s=e.switchToVirtual;return o.createElement("div",{className:"status-dialog__footer"},o.createElement(R,{closeModal:a,is_bypassed:t===I.FX.PENDING,status:t,landing_company_shortcode:n,switchToVirtual:s}),o.createElement(T,{status:t,landing_company_shortcode:n,closeModal:a,closeModalAndOpenCashier:c,closeModalAndOpenPOI:l,closeModalAndOpenPOA:i,is_fully_authenticated:r}))};j.propTypes={status:A().number,landing_company_shortcode:A().string,is_fully_authenticated:A().bool,closeModal:A().func,closeModalAndOpenCashier:A().func,closeModalAndOpenPOI:A().func,switchToVirtual:A().func};var D=function(e){var t=e.currency;return o.createElement(i.Icon,{icon:"IcCurrency-".concat(t.toLowerCase()),size:120})},F=function(e){var t=e.className;return o.createElement(i.Icon,{className:t,icon:"IcCheckmarkCircle",color:"green",size:24})},U=function(e){var t=e.className;return o.createElement(i.Icon,{className:t,icon:"IcAlertDanger",size:24})},Z=function(e){var t=e.className;return o.createElement(i.Icon,{className:t,icon:"IcCrossCircle",size:24,color:"red"})},W=function(e){var t=e.closeModal;return o.createElement("div",{onClick:t,className:"status-dialog__close"},o.createElement(i.Icon,{icon:"IcCross"}))},V=function(e){var t=e.closeModal,n=e.currency,r=e.history,c=e.icon_size,s=e.is_age_verified,u=e.is_belgium_residence,d=e.is_fully_authenticated,_=e.is_isle_of_man_residence,m=e.landing_company_shortcode,f=e.switchToVirtual,g=function(){return(0,I.Sj)({landing_company_shortcode:m,is_fully_authenticated:d,is_age_verified:s,is_isle_of_man_residence:_,is_belgium_residence:u})};return o.createElement(i.Div100vhContainer,{className:"status-dialog",is_disabled:(0,l.isDesktop)(),height_offset:"40px"},(0,l.isDesktop)()&&o.createElement(W,{closeModal:t}),o.createElement("div",{className:a()("status-dialog__header",{"status-dialog__header--large":"large"===c,"status-dialog__header--xlarge":"xlarge"===c})},o.createElement(D,{currency:n}),g()===I.FX.SUCCESS&&o.createElement(F,{className:"bottom-right-overlay"}),g()===I.FX.WARN&&o.createElement(U,{className:"bottom-right-overlay"}),g()===I.FX.DANGER&&o.createElement(Z,{className:"bottom-right-overlay"})),o.createElement("div",{className:a()("status-dialog__body",{"status-dialog__body--no-grow":(0,l.isMobile)()})},o.createElement(L,{status:g(),landing_company_shortcode:m}),o.createElement(k,{status:g(),landing_company_shortcode:m,is_fully_authenticated:d,currency:n})),o.createElement(j,{landing_company_shortcode:m,is_fully_authenticated:d,status:g(),closeModal:t,closeModalAndOpenPOI:function(){t(),r.push(l.routes.proof_of_identity)},closeModalAndOpenPOA:function(){t(),r.push(l.routes.proof_of_address)},closeModalAndOpenCashier:function(){t(),r.push(l.routes.cashier_deposit)},switchToVirtual:f}))};V.defaultProps={icon_size:"large"},V.propTypes={currency:A().string,closeModal:A().func,icon:A().object,icon_size:A().string,is_isle_of_man_residence:A().bool,is_belgium_residence:A().bool};const X=(0,u.$j)((function(e){var t=e.client;return{landing_company_shortcode:t.landing_company_shortcode,is_fully_authenticated:t.is_fully_authenticated,is_age_verified:t.is_age_verified,is_isle_of_man_residence:"im"===t.residence,is_belgium_residence:"be"===t.residence,switchToVirtual:function(){return t.switchAccount(t.virtual_account_loginid)}}}))((0,c.withRouter)(V));function B(e){return(B="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function H(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(e)))return;var n=[],r=!0,a=!1,o=void 0;try{for(var c,i=e[Symbol.iterator]();!(r=(c=i.next()).done)&&(n.push(c.value),!t||n.length!==t);r=!0);}catch(e){a=!0,o=e}finally{try{r||null==i.return||i.return()}finally{if(a)throw o}}return n}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return $(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return $(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function $(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var G=0,Y=1,J=2,q=3,K=4,Q=5,ee=function(e){var t=e.real_account_signup_target,n=e.currency,r=e.is_isle_of_man_residence,a=e.is_belgium_residence;if(!n&&"maltainvest"!==t)return o.createElement(s.Localize,{i18n_default_text:"Set a currency for your real account"});if("malta"===t&&a||"deposit_cash"===t)return o.createElement(s.Localize,{i18n_default_text:"Add a Deriv Synthetic account"});if("iom"===t&&r)return o.createElement(s.Localize,{i18n_default_text:"Add a Deriv account"});switch(t){case"malta":case"iom":return o.createElement(s.Localize,{i18n_default_text:"Add a Deriv Synthetic Indices account"});case"maltainvest":return o.createElement(s.Localize,{i18n_default_text:"Add a Deriv Financial account"});case"samoa":return o.createElement(s.Localize,{i18n_default_text:"Terms of use"});default:return o.createElement(s.Localize,{i18n_default_text:"Add a Deriv account"})}};const te=(0,u.$j)((function(e){var t=e.ui,n=e.client,r=e.common;return{has_real_account:n.has_active_real_account,currency:n.currency,is_eu:n.is_eu,is_real_acc_signup_on:t.is_real_acc_signup_on,real_account_signup_target:t.real_account_signup_target,closeRealAccountSignup:t.closeRealAccountSignup,setParams:t.setRealAccountSignupParams,residence:n.residence,is_isle_of_man_residence:"im"===n.residence,is_belgium_residence:"be"===n.residence,state_value:t.real_account_signup,routing_history:r.app_routing_history,has_fiat:n.has_fiat,available_crypto_currencies:n.available_crypto_currencies}}))((0,c.withRouter)((function(e){var t=e.closeRealAccountSignup,n=e.currency,r=e.has_real_account,c=e.history,u=e.is_belgium_residence,m=e.is_isle_of_man_residence,f=e.is_eu,g=e.is_real_acc_signup_on,p=e.real_account_signup_target,y=e.routing_history,v=e.setParams,b=e.state_index,E=e.state_value,S=e.has_fiat,A=e.available_crypto_currencies,O=H(o.useState(null),2),C=O[0],x=O[1],M=H(o.useState(!1),2),z=M[0],I=M[1],P=H(o.useState(null),2),L=P[0],k=P[1],T=H(o.useState([{action:"signup",body:function(e){return o.createElement(d.Z,{onFinishSuccess:R,onOpenWelcomeModal:j,is_loading:e.is_loading,setLoading:U,onError:Z,onClose:W})},title:ee},{action:"multi",body:function(e){return o.createElement(_.Z,{onSuccessSetAccountCurrency:F,is_loading:e.is_loading,setLoading:U,onError:Z})},title:function(e){var t;return e.has_fiat&&0===(null===(t=e.available_crypto_currencies)||void 0===t?void 0:t.length)?(0,s.localize)("Manage account"):(0,s.localize)("Add or manage account")}},{body:function(e){return o.createElement(w,{prev:e.state_value.previous_currency,current:e.state_value.current_currency,onCancel:W,onSubmit:D})},title:function(e){var t;return e.has_fiat&&0===(null===(t=e.available_crypto_currencies)||void 0===t?void 0:t.length)?(0,s.localize)("Manage account"):(0,s.localize)("Add or manage account")}},{body:function(e){return o.createElement(X,{currency:e.state_value.currency,closeModal:W})}},{body:function(e){return o.createElement(h,{is_loading:e.is_loading,setLoading:U,onError:Z,onClose:W,onSuccessSetAccountCurrency:F})},title:ee},{body:function(e){return o.createElement(N,{message:e.state_value.error_message,code:e.state_value.error_code,onConfirm:V})},title:function(){return(0,s.localize)("Add a real account")}}]),1)[0],R=function(e){v({active_modal_index:q,currency:e})},j=function(e){t(),v({currency:e})},D=function(){t(),c.push(l.routes.cashier_deposit)},F=function(e,t){v({previous_currency:e,current_currency:t,active_modal_index:J})},U=function(e){I(e)},Z=function(e,t){var n;t&&function(e){localStorage.setItem("real_account_signup_wizard",JSON.stringify(e.map((function(e){return"object"===B(e.form_value)&&e.form_value}))))}(t),x(null===(n=T[$()])||void 0===n?void 0:n.action),k(e)};o.useEffect((function(){L&&v({active_modal_index:Q,error_message:L.message,error_code:L.code})}),[L]);var W=function(e){"noopener noreferrer"===(null==e?void 0:e.target.getAttribute("rel"))||null!=e&&e.target.closest(".redirect-notice")||null!=e&&e.target.closest(".dc-popover__bubble")||($()!==q&&(sessionStorage.removeItem("post_real_account_signup"),localStorage.removeItem("real_account_signup_wizard")),t(),(0,l.isNavigationFromPlatform)(y,l.routes.smarttrader)&&(window.location=l.routes.smarttrader))},V=function(){v({active_modal_index:"multi"===C?Y:G})},$=function(){return-1===E.active_modal_index?r&&n&&"manage"===p?Y:n?G:K:E.active_modal_index},te=T[$()],ne=te.title,re=te.body,ae=J,oe=q,ce=Q,ie=[G,Y,K,ce].includes($());return o.createElement(o.Fragment,null,o.createElement(i.DesktopWrapper,null,o.createElement(i.Modal,{id:"real_account_signup_modal",className:a()("real-account-signup-modal",{"dc-modal__container_real-account-signup-modal--error":$()===ce,"dc-modal__container_real-account-signup-modal--success":[ae,oe].includes($())}),is_open:g,has_close_icon:"samoa"!==p,is_title_centered:"samoa"===p,renderTitle:function(){return ne&&![ae,oe].includes($())?o.createElement(ne,{real_account_signup_target:p,currency:n,is_isle_of_man_residence:m,is_belgium_residence:u,is_eu:f,has_fiat:S,available_crypto_currencies:A}):null},toggleModal:W,height:$()===q?"auto":n?r&&n?f&&$()===Y?"420px":$()===J?"auto":"644px":"740px":"688px",width:ie?"904px":"auto"},g&&o.createElement(re,{state_value:E,passthrough:b,is_loading:z}))),o.createElement(i.MobileWrapper,null,o.createElement(i.MobileDialog,{portal_element_id:"modal_root",wrapper_classname:"account-signup-mobile-dialog",visible:g,onClose:W,renderTitle:function(){return ne?o.createElement(ne,{real_account_signup_target:p,currency:n,is_isle_of_man_residence:m,is_belgium_residence:u}):null}},g&&o.createElement(re,{state_value:E,passthrough:b,is_loading:z}))))})))},58226:(e,t,n)=>{"use strict";n.d(t,{Z:()=>c});var r=n(32735),a=n(65597);function o(){return(o=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}const c=function(e){return r.createElement("div",{className:"account-signup-loader"},r.createElement(a.Loading,o({},e,{is_fullscreen:!1})))}},78497:(e,t,n)=>{"use strict";n.d(t,{l:()=>_});var r=n(60216),a=n.n(r),o=n(32735),c=n(13799),i=n(53289),l=n(20374),s=n(75672),u=n(58468),d=function(e){var t=e.history,n=e.currency,r=e.setVerificationCode,a=e.hasAnyRealAccount,c=e.openRealAccountSignup,s=e.setResetTradingPasswordModalOpen,d=e.toggleAccountSignupModal,_=e.toggleResetPasswordModal,m=window.location.search,f=new URLSearchParams(m),g=!1,p=o.useContext(i.PlatformContext).is_dashboard;switch(r(f.get("code"),f.get("action")),f.get("action")){case"signup":p&&(t.push({pathname:i.routes.dashboard,search:m}),g=!0),sessionStorage.removeItem("redirect_url"),d(!0);break;case"reset_password":_(!0);break;case"trading_platform_password_reset":s(!0);break;case"payment_withdraw":t.push(i.routes.cashier_withdrawal),g=!0;break;case"payment_agent_withdraw":t.push(i.routes.cashier_pa),g=!0;break;case"add_account":u.WS.wait("get_account_status").then((function(){return n?a()?c("manage"):c():c("set_currency")}));var y=f.get("ext_platform_url");y&&(t.push("".concat(i.routes.root,"?ext_platform_url=").concat(y)),g=!0);break;case"verification":sessionStorage.setItem("redirect_url",i.routes.cashier_p2p_verification),window.location.href=(0,i.loginUrl)({language:(0,l.getLanguage)()});break;case"trading_platform_investor_password_reset":var v;localStorage.setItem("cfd_reset_password_code",f.get("code"));var h=null===(v=localStorage.getItem("cfd_reset_password_intent"))||void 0===v?void 0:v.includes("demo");t.push("".concat(i.routes.mt5,"#").concat(h?"demo":"real","#reset-password")),g=!0}return g||t.push({pathname:i.routes.root,search:m}),null};d.propTypes={getServerTime:a().object,history:a().object,setResetTradingPasswordModalOpen:a().func,setVerificationCode:a().func,toggleAccountSignupModal:a().func,toggleResetPasswordModal:a().func};const _=(0,c.withRouter)((0,s.$j)((function(e){var t=e.client,n=e.ui;return{currency:t.currency,setVerificationCode:t.setVerificationCode,fetchResidenceList:t.fetchResidenceList,hasAnyRealAccount:t.hasAnyRealAccount,openRealAccountSignup:n.openRealAccountSignup,setResetTradingPasswordModalOpen:n.setResetTradingPasswordModalOpen,toggleAccountSignupModal:n.toggleAccountSignupModal,toggleResetPasswordModal:n.toggleResetPasswordModal}}))(d))},24793:(e,t,n)=>{"use strict";n.d(t,{Z:()=>u});var r=n(60216),a=n.n(r),o=n(32735),c=n(65597),i=n(20374),l=n(75672),s=function(e){var t=e.is_visible,n=e.is_virtual,r=e.setCurrency,a=e.toggleModal;return o.createElement(c.Modal,{id:"dt_set_account_currency_modal",has_close_icon:!1,is_open:t,small:!0,toggleModal:a,title:(0,i.localize)("You have an account that needs action")},o.createElement(c.Modal.Body,null,(0,i.localize)("Please set a currency for your existing real account before creating another account.")),o.createElement(c.Modal.Footer,null,n?o.createElement(c.Button,{has_effect:!0,text:(0,i.localize)("OK"),onClick:a,primary:!0}):o.createElement(o.Fragment,null,o.createElement(c.Button,{has_effect:!0,text:(0,i.localize)("Cancel"),onClick:a,secondary:!0}),o.createElement(c.Button,{has_effect:!0,text:(0,i.localize)("Set currency"),onClick:function(){a(),setTimeout((function(){r()}),250)},primary:!0}))))};s.propTypes={is_virtual:a().bool,is_visible:a().bool,setCurrency:a().func,toggleModal:a().func};const u=(0,l.$j)((function(e){var t=e.client,n=e.ui;return{is_virtual:t.is_virtual,toggleModal:n.toggleSetCurrencyModal,setCurrency:n.openRealAccountSignup,is_visible:n.is_set_currency_modal_visible}}))(s)},74222:(e,t,n)=>{"use strict";n.d(t,{Z:()=>a});var r=n(32735);const a=function(e){var t=e.onUpdate;return r.useEffect((function(){var e=function(){document.removeEventListener("UpdateAvailable",t)},n=function(){document.addEventListener("UpdateAvailable",t)};return document.addEventListener("UpdateAvailable",t),document.addEventListener("IgnorePWAUpdate",e),document.addEventListener("ListenPWAUpdate",n),function(){document.removeEventListener("IgnorePWAUpdate",e),document.removeEventListener("ListenPWAUpdate",n),document.removeEventListener("UpdateAvailable",t)}}),[]),null}},93802:(e,t,n)=>{"use strict";n.d(t,{Z:()=>_});var r=n(40841),a=n.n(r),o=n(60216),c=n.n(o),i=n(32735),l=n(53289),s=n(75672),u=n(65597),d=function(e){var t=e.is_mobile,n=e.server_time,r=(0,l.toGMTFormat)(n),o=(0,l.toLocalFormat)(n);return i.createElement(u.Popover,{alignment:"top",message:o,className:a()("server-time",{"server-time--is-mobile":t})},r)};d.propTypes={is_mobile:c().bool,server_time:c().object};const _=(0,s.$j)((function(e){return{server_time:e.common.server_time}}))(d)},7006:(e,t,n)=>{"use strict";var r=n(60216),a=n.n(r),o=n(32735),c=n(12788),i=n(14956),l=n(40001),s=n.n(l),u=n(65597),d=n(53289),_=n(20374),m=n(10331),f=n.n(m),g=n(16636),p=n(75672),y=n(22816);function v(){return(v=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function h(e,t){if(null==e)return{};var n,r,a=function(e,t){if(null==e)return{};var n,r,a={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(a[n]=e[n]);return a}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}var b=function(e){var t=e.toasts,n=e.removeToast;if(0===t.length)return null;var r=t.filter((function(e){return!e.is_bottom})),a=t.filter((function(e){return e.is_bottom})),i=function(e){var t=e.key,r=e.content,a=h(e,["key","content"]);return o.createElement(u.Toast,v({key:t},a,{onClose:function(){return n(t)}}),r)},l=o.createElement(u.Div100vhContainer,{className:"toast-messages",height_offset:"15px"},o.createElement("div",{className:"toast-messages__top"},r.map(i)),o.createElement("div",{className:"toast-messages__bottom"},a.map(i)));return c.createPortal(l,document.getElementById("popup_root"))};b.propTypes={toasts:a().arrayOf(a().shape({key:a().string,timeout:a().number,content:a().oneOfType([a().node,a().string]),type:a().oneOf(["error","info"]),is_bottom:a().bool})),removeToast:a().func};const E=(0,p.$j)((function(e){var t=e.ui;return{toasts:t.toasts,removeToast:t.removeToast}}))(b);var w=n(61407),S=n(64797),A=n(20903),O=n(38937),C=n(96675),x=n(81472),M=n(83118),z=n(24387);function N(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(e)))return;var n=[],r=!0,a=!1,o=void 0;try{for(var c,i=e[Symbol.iterator]();!(r=(c=i.next()).done)&&(n.push(c.value),!t||n.length!==t);r=!0);}catch(e){a=!0,o=e}finally{try{r||null==i.return||i.return()}finally{if(a)throw o}}return n}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return I(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return I(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function I(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var P=function(e){var t=e.children;return(0,d.isMobile)()?c.createPortal(t,document.getElementById("deriv_app")):t},L=function(e){var t=e.is_notification_loaded,n=e.style,r=e.notifications,a=e.removeNotificationMessage;return o.createElement("div",{className:"notification-messages",style:n},o.createElement(x.Z,{component:"div"},r.map((function(e,n){return o.createElement(M.Z,{appear:!t,key:n,in:!!e.header,timeout:150,classNames:{appear:"notification--enter",enter:"notification--enter",enterDone:"notification--enter-done",exit:"notification--exit"},unmountOnExit:!0},o.createElement(z.ZP,{data:e,removeNotificationMessage:a}))}))))},k=function(e){var t=e.is_notification_loaded,n=e.is_mt5,r=e.marked_notifications,a=e.notification_messages,c=e.removeNotificationMessage,i=e.stopNotificationLoading,l=N(o.useState({}),2),s=l[0],u=l[1],_=N(o.useState(null),2),m=_[0],f=_[1];o.useEffect((function(){if(n&&i(),m&&(0,d.isMobile)()){var e=m.parentElement.getBoundingClientRect();u({top:e.top+8})}}),[m]);var g=a.filter((function(e){var t=!r.includes(e.key),n=!(0,d.isMobile)()||["unwelcome","contract_sold","dp2p","tnc"].includes(e.key);return t&&n})),p=(0,d.isMobile)()?z.fh:z.S_,y=g.slice(0,p);return y.length?o.createElement("div",{ref:function(e){return f(e)},className:"notification-messages-bounds"},o.createElement(P,null,o.createElement(L,{notifications:y,is_notification_loaded:t,style:s,removeNotificationMessage:c}))):null};k.propTypes={marked_notifications:a().array,notification_messages:a().arrayOf(a().shape({closeOnClick:a().func,delay:a().number,header:a().string,is_auto_close:a().bool,message:a().oneOfType([a().node,a().string]),size:a().oneOf(["small"]),type:a().oneOf(["warning","info","success","danger","contract_sold","news","announce"])})),removeNotificationMessage:a().func};const T=(0,p.$j)((function(e){var t=e.ui;return{marked_notifications:t.marked_notifications,notification_messages:t.notification_messages,removeNotificationMessage:t.removeNotificationMessage}}))(k);var R=n(86531),j=n(16),D=n(13799),F=n(23942),U=n.n(F),Z=n(32577);function W(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function V(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?W(Object(n),!0).forEach((function(t){X(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):W(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function X(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var B=U()({loader:function(){return Promise.resolve().then(n.bind(n,62792))},loading:u.UILoader,render:function(e,t){var n=e.default;return o.createElement(n,t)}}),H=function(e){var t=e.addRouteHistoryItem,n=e.error,r=e.has_error,a=e.history,c=e.is_logged_in,i=e.is_logging_in,l=e.location,s=e.passthrough,u=e.setAppRouterHistory,m=e.setInitialRouteHistoryItem,f=o.useRef(null),g=o.useRef(null);o.useEffect((function(){return g.current||f.current||(f.current=l.pathname),m(a.location),g.current=a.listen((function(e,n){["PUSH","POP"].includes(n)&&t(V(V({},e),{},{action:n}))})),u(a),function(){"function"==typeof g.current&&(g.current(),g.current=null,f.current=null)}}),[]);var p=(0,_.getLanguage)(),y=/[?&]lang=/.test(l.search);return r?o.createElement(B,n):((!y&&"EN"!==p||y&&"EN"===p)&&window.history.replaceState({},document.title,(0,d.urlForLanguage)(p)),o.createElement(Z.ZP,{is_logged_in:c,is_logging_in:i,passthrough:s}))};H.propTypes={addRouteHistoryItem:a().func,error:j.PropTypes.objectOrObservableObject,has_error:a().bool,history:a().object,is_logged_in:a().bool,is_logging_in:a().bool,is_virtual:a().bool,setAppRouterHistory:a().func,setInitialRouteHistoryItem:a().func};const $=(0,D.withRouter)((0,p.$j)((function(e){var t=e.client,n=e.common;return{is_logged_in:t.is_logged_in,is_logging_in:t.is_logging_in,error:n.error,has_error:n.has_error,setAppRouterHistory:n.setAppRouterHistory,addRouteHistoryItem:n.addRouteHistoryItem,setInitialRouteHistoryItem:n.setInitialRouteHistoryItem}}))(H));var G=n(59001),Y=n(28284),J=n(18880);(0,G.configure)({enforceActions:"observed"});const q=function(e){var t=window.location.search;if("signup"===new URLSearchParams(t).get("action")){var n=localStorage.getItem("config.server_url"),r=localStorage.getItem("config.app_id");localStorage.clear(),n&&localStorage.setItem("config.server_url",n),r&&localStorage.setItem("config.app_id",r)}var a=new J.Z;return function(e){window.addEventListener("storage",(function(t){switch(t.key){case"client.accounts":var n,r,a=e.client.loginid,o=null===(n=JSON.parse(t.newValue)[a])||void 0===n?void 0:n.currency,c=null===(r=JSON.parse(t.oldValue)[a])||void 0===r?void 0:r.currency;document.hidden&&o&&c!==o&&e.client.updateAccountCurrency(o,!1);break;case"active_loginid":document.hidden&&window.location.reload();break;case"reality_check_dismissed":document.hidden&&e.client.setVisibilityRealityCheck(!JSON.parse(t.newValue))}}))}(a),Y.Z.init(a),a.client.init(),a.ui.init(e),a.pushwoosh.init(),a};var K=n(74495),Q=n(46746);function ee(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(e)))return;var n=[],r=!0,a=!1,o=void 0;try{for(var c,i=e[Symbol.iterator]();!(r=(c=i.next()).done)&&(n.push(c.value),!t||n.length!==t);r=!0);}catch(e){a=!0,o=e}finally{try{r||null==i.return||i.return()}finally{if(a)throw o}}return n}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return te(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return te(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function te(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var ne=function(){ae.modules.attachModule("cashier",new(f())({root_store:ae,WS:g.Z}))},re=function(e){var t=e.root_store,n=window.location,r=n.pathname.split("/")[1],a=/^\/(br_)/.test(n.pathname),c=ee((0,_.useOnLoadTranslation)(),1)[0];o.useEffect(ne,[]),o.useEffect((function(){(0,d.checkAndSetEndpointFromUrl)(),(0,_.initializeTranslations)(),(0,d.setUrlLanguage)((0,_.getLanguage)()),(0,d.initFormErrorMessages)(K.U),(0,d.setSharedCFDText)(Q.B),l()}),[]);var l=o.useCallback((function(){if((0,d.isTouchDevice)()&&(0,d.isMobile)()){var e="Android"===(0,d.mobileOSDetect)(),n=e?screen.availWidth:window.innerWidth,r=e?screen.availHeight:window.innerHeight,a=document.getElementById("landscape_blocker");n<=r?(t.ui.onOrientationChange({is_landscape_orientation:!1}),a.classList.remove("landscape-blocker--visible")):(t.ui.onOrientationChange({is_landscape_orientation:!0}),a.classList.add("landscape-blocker--visible"))}}),[t.ui]);o.useEffect((function(){var e=s()(l,400);return window.addEventListener("resize",e),function(){window.removeEventListener("resize",e)}}),[l]);var m={root_store:t,WS:g.Z};return o.createElement(o.Fragment,null,c?o.createElement(i.BrowserRouter,{basename:a?"/".concat(r):null},o.createElement(p.z1,{store:t},o.createElement(A.Z,null,o.createElement(C.Z,null),o.createElement(w.Z,null,o.createElement(S.Z,null,o.createElement($,{passthrough:m}))),o.createElement(u.DesktopWrapper,null,o.createElement(O.Z,null)),o.createElement(R.Z,null),o.createElement(y.Z,null),o.createElement(E,null)))):o.createElement(o.Fragment,null))};re.propTypes={root_store:a().object};var ae=q(T),oe=document.getElementById("deriv_app");oe&&c.render(o.createElement(re,{root_store:ae}),oe)}}]);