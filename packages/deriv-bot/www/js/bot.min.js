!function(t){function e(o){if(n[o])return n[o].exports;var r=n[o]={exports:{},id:o,loaded:!1};return t[o].call(r.exports,r,r.exports,e),r.loaded=!0,r.exports}var n={};return e.m=t,e.c=n,e.p="",e(0)}([function(t,e,n){Bot={};var o=n(1),r=n(3),i=n(2);o.addBlocklyTranslation(),o.Translator(function(){Bot.config=n(11),Bot.globals=n(12),Bot.utils=n(14),Bot.version=n(16),Bot.conditions=n(17),Bot.markets=n(18),Bot.trade=n(19),Bot.toggleDebug=n(12).toggleDebug;n(22);i("[data-i18n-text]").each(function(){i(this).text(r._(i(this).attr("data-i18n-text")))})})},function(t,e,n){var o=n(2),r=n(3),i=n(4),a=["zh_tw","de","id","zh_cn","it","vi","ar","pl","ru","pt","es","fr","en"],s=function(){var t=window.location.search,e={};return t.replace(new RegExp("([^?=&]+)(=([^&]*))?","g"),function(t,n,o,r){e[n]=r}),e};o("#language").change(function(t){localStorage.lang=t.target.value,window.location.search="?l="+t.target.value});var c=s();c.hasOwnProperty("l")&&""!==c.l&&a.indexOf(c.l)>=0?(window.lang=c.l,localStorage.lang=c.l):localStorage.lang?window.lang=localStorage.lang:window.lang="en",o("#language").val(window.lang),r._=function(t,e){var n=i(t),o=r.t(n);return""===o?t:o},r.xml=function(t){for(var e in t.children)if(t.children.hasOwnProperty(e)&&!isNaN(+e)){var n,o=t.children[e],a=o.getAttribute("i18n-text"),s=!1;null===a?(n=o.getAttribute("i18n"),null!==n&&(s=!0)):(n=i(a),s=!0);var c=r.t(n);s&&o.setAttribute("name",""===c?a:c),o.children.length>0&&r.xml(o)}return t},t.exports={addBlocklyTranslation:function(){o.ajaxPrefilter(function(t,e,n){t.async=!0});var t=document.createElement("script");t.type="text/javascript";var e;e="zh_tw"===lang?"zh-hant":"zh_cn"===lang?"zh-hans":lang,t.src="node_modules/blockly/msg/js/"+e+".js",o("body").append(t)},Translator:function(t){o.get("www/i18n/"+lang+".json",function(e){var n={en:{translation:e}};r.init({lng:"en",fallbackLng:"en",ns:["translation"],defaultNS:["translation"],resources:n},function(){t()})})}}},function(t,e){t.exports=jQuery},function(t,e){t.exports=i18next},function(t,e,n){(function(e){!function(){var o=n(9),r=n(10).utf8,i=n(10).bin,a=function(t){t.constructor==String?t=r.stringToBytes(t):"undefined"!=typeof e&&"function"==typeof e.isBuffer&&e.isBuffer(t)?t=Array.prototype.slice.call(t,0):Array.isArray(t)||(t=t.toString());var n=o.bytesToWords(t),i=8*t.length,a=[],s=1732584193,c=-271733879,u=-1732584194,l=271733878,d=-1009589776;n[i>>5]|=128<<24-i%32,n[(i+64>>>9<<4)+15]=i;for(var h=0;h<n.length;h+=16){for(var p=s,f=c,g=u,_=l,b=d,m=0;80>m;m++){if(16>m)a[m]=n[h+m];else{var y=a[m-3]^a[m-8]^a[m-14]^a[m-16];a[m]=y<<1|y>>>31}var k=(s<<5|s>>>27)+d+(a[m]>>>0)+(20>m?(c&u|~c&l)+1518500249:40>m?(c^u^l)+1859775393:60>m?(c&u|c&l|u&l)-1894007588:(c^u^l)-899497514);d=l,l=u,u=c<<30|c>>>2,c=s,s=k}s+=p,c+=f,u+=g,l+=_,d+=b}return[s,c,u,l,d]},s=function(t,e){var n=o.wordsToBytes(a(t));return e&&e.asBytes?n:e&&e.asString?i.bytesToString(n):o.bytesToHex(n)};s._blocksize=16,s._digestsize=20,t.exports=s}()}).call(e,n(5).Buffer)},function(t,e,n){(function(t,o){"use strict";function r(){function t(){}try{var e=new Uint8Array(1);return e.foo=function(){return 42},e.constructor=t,42===e.foo()&&e.constructor===t&&"function"==typeof e.subarray&&0===e.subarray(1,1).byteLength}catch(n){return!1}}function i(){return t.TYPED_ARRAY_SUPPORT?2147483647:1073741823}function t(e){return this instanceof t?(t.TYPED_ARRAY_SUPPORT||(this.length=0,this.parent=void 0),"number"==typeof e?a(this,e):"string"==typeof e?s(this,e,arguments.length>1?arguments[1]:"utf8"):c(this,e)):arguments.length>1?new t(e,arguments[1]):new t(e)}function a(e,n){if(e=g(e,0>n?0:0|_(n)),!t.TYPED_ARRAY_SUPPORT)for(var o=0;n>o;o++)e[o]=0;return e}function s(t,e,n){"string"==typeof n&&""!==n||(n="utf8");var o=0|m(e,n);return t=g(t,o),t.write(e,n),t}function c(e,n){if(t.isBuffer(n))return u(e,n);if(q(n))return l(e,n);if(null==n)throw new TypeError("must start with number, buffer, array or string");if("undefined"!=typeof ArrayBuffer){if(n.buffer instanceof ArrayBuffer)return d(e,n);if(n instanceof ArrayBuffer)return h(e,n)}return n.length?p(e,n):f(e,n)}function u(t,e){var n=0|_(e.length);return t=g(t,n),e.copy(t,0,0,n),t}function l(t,e){var n=0|_(e.length);t=g(t,n);for(var o=0;n>o;o+=1)t[o]=255&e[o];return t}function d(t,e){var n=0|_(e.length);t=g(t,n);for(var o=0;n>o;o+=1)t[o]=255&e[o];return t}function h(e,n){return t.TYPED_ARRAY_SUPPORT?(n.byteLength,e=t._augment(new Uint8Array(n))):e=d(e,new Uint8Array(n)),e}function p(t,e){var n=0|_(e.length);t=g(t,n);for(var o=0;n>o;o+=1)t[o]=255&e[o];return t}function f(t,e){var n,o=0;"Buffer"===e.type&&q(e.data)&&(n=e.data,o=0|_(n.length)),t=g(t,o);for(var r=0;o>r;r+=1)t[r]=255&n[r];return t}function g(e,n){t.TYPED_ARRAY_SUPPORT?(e=t._augment(new Uint8Array(n)),e.__proto__=t.prototype):(e.length=n,e._isBuffer=!0);var o=0!==n&&n<=t.poolSize>>>1;return o&&(e.parent=X),e}function _(t){if(t>=i())throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+i().toString(16)+" bytes");return 0|t}function b(e,n){if(!(this instanceof b))return new b(e,n);var o=new t(e,n);return delete o.parent,o}function m(t,e){"string"!=typeof t&&(t=""+t);var n=t.length;if(0===n)return 0;for(var o=!1;;)switch(e){case"ascii":case"binary":case"raw":case"raws":return n;case"utf8":case"utf-8":return H(t).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return 2*n;case"hex":return n>>>1;case"base64":return z(t).length;default:if(o)return H(t).length;e=(""+e).toLowerCase(),o=!0}}function y(t,e,n){var o=!1;if(e=0|e,n=void 0===n||n===1/0?this.length:0|n,t||(t="utf8"),0>e&&(e=0),n>this.length&&(n=this.length),e>=n)return"";for(;;)switch(t){case"hex":return x(this,e,n);case"utf8":case"utf-8":return C(this,e,n);case"ascii":return S(this,e,n);case"binary":return U(this,e,n);case"base64":return B(this,e,n);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return O(this,e,n);default:if(o)throw new TypeError("Unknown encoding: "+t);t=(t+"").toLowerCase(),o=!0}}function k(t,e,n,o){n=Number(n)||0;var r=t.length-n;o?(o=Number(o),o>r&&(o=r)):o=r;var i=e.length;if(i%2!==0)throw new Error("Invalid hex string");o>i/2&&(o=i/2);for(var a=0;o>a;a++){var s=parseInt(e.substr(2*a,2),16);if(isNaN(s))throw new Error("Invalid hex string");t[n+a]=s}return a}function w(t,e,n,o){return j(H(e,t.length-n),t,n,o)}function v(t,e,n,o){return j($(e),t,n,o)}function T(t,e,n,o){return v(t,e,n,o)}function E(t,e,n,o){return j(z(e),t,n,o)}function I(t,e,n,o){return j(V(e,t.length-n),t,n,o)}function B(t,e,n){return 0===e&&n===t.length?K.fromByteArray(t):K.fromByteArray(t.slice(e,n))}function C(t,e,n){n=Math.min(t.length,n);for(var o=[],r=e;n>r;){var i=t[r],a=null,s=i>239?4:i>223?3:i>191?2:1;if(n>=r+s){var c,u,l,d;switch(s){case 1:128>i&&(a=i);break;case 2:c=t[r+1],128===(192&c)&&(d=(31&i)<<6|63&c,d>127&&(a=d));break;case 3:c=t[r+1],u=t[r+2],128===(192&c)&&128===(192&u)&&(d=(15&i)<<12|(63&c)<<6|63&u,d>2047&&(55296>d||d>57343)&&(a=d));break;case 4:c=t[r+1],u=t[r+2],l=t[r+3],128===(192&c)&&128===(192&u)&&128===(192&l)&&(d=(15&i)<<18|(63&c)<<12|(63&u)<<6|63&l,d>65535&&1114112>d&&(a=d))}}null===a?(a=65533,s=1):a>65535&&(a-=65536,o.push(a>>>10&1023|55296),a=56320|1023&a),o.push(a),r+=s}return A(o)}function A(t){var e=t.length;if(Q>=e)return String.fromCharCode.apply(String,t);for(var n="",o=0;e>o;)n+=String.fromCharCode.apply(String,t.slice(o,o+=Q));return n}function S(t,e,n){var o="";n=Math.min(t.length,n);for(var r=e;n>r;r++)o+=String.fromCharCode(127&t[r]);return o}function U(t,e,n){var o="";n=Math.min(t.length,n);for(var r=e;n>r;r++)o+=String.fromCharCode(t[r]);return o}function x(t,e,n){var o=t.length;(!e||0>e)&&(e=0),(!n||0>n||n>o)&&(n=o);for(var r="",i=e;n>i;i++)r+=J(t[i]);return r}function O(t,e,n){for(var o=t.slice(e,n),r="",i=0;i<o.length;i+=2)r+=String.fromCharCode(o[i]+256*o[i+1]);return r}function R(t,e,n){if(t%1!==0||0>t)throw new RangeError("offset is not uint");if(t+e>n)throw new RangeError("Trying to access beyond buffer length")}function P(e,n,o,r,i,a){if(!t.isBuffer(e))throw new TypeError("buffer must be a Buffer instance");if(n>i||a>n)throw new RangeError("value is out of bounds");if(o+r>e.length)throw new RangeError("index out of range")}function D(t,e,n,o){0>e&&(e=65535+e+1);for(var r=0,i=Math.min(t.length-n,2);i>r;r++)t[n+r]=(e&255<<8*(o?r:1-r))>>>8*(o?r:1-r)}function L(t,e,n,o){0>e&&(e=4294967295+e+1);for(var r=0,i=Math.min(t.length-n,4);i>r;r++)t[n+r]=e>>>8*(o?r:3-r)&255}function N(t,e,n,o,r,i){if(e>r||i>e)throw new RangeError("value is out of bounds");if(n+o>t.length)throw new RangeError("index out of range");if(0>n)throw new RangeError("index out of range")}function F(t,e,n,o,r){return r||N(t,e,n,4,3.4028234663852886e38,-3.4028234663852886e38),G.write(t,e,n,o,23,4),n+4}function Y(t,e,n,o,r){return r||N(t,e,n,8,1.7976931348623157e308,-1.7976931348623157e308),G.write(t,e,n,o,52,8),n+8}function M(t){if(t=W(t).replace(tt,""),t.length<2)return"";for(;t.length%4!==0;)t+="=";return t}function W(t){return t.trim?t.trim():t.replace(/^\s+|\s+$/g,"")}function J(t){return 16>t?"0"+t.toString(16):t.toString(16)}function H(t,e){e=e||1/0;for(var n,o=t.length,r=null,i=[],a=0;o>a;a++){if(n=t.charCodeAt(a),n>55295&&57344>n){if(!r){if(n>56319){(e-=3)>-1&&i.push(239,191,189);continue}if(a+1===o){(e-=3)>-1&&i.push(239,191,189);continue}r=n;continue}if(56320>n){(e-=3)>-1&&i.push(239,191,189),r=n;continue}n=(r-55296<<10|n-56320)+65536}else r&&(e-=3)>-1&&i.push(239,191,189);if(r=null,128>n){if((e-=1)<0)break;i.push(n)}else if(2048>n){if((e-=2)<0)break;i.push(n>>6|192,63&n|128)}else if(65536>n){if((e-=3)<0)break;i.push(n>>12|224,n>>6&63|128,63&n|128)}else{if(!(1114112>n))throw new Error("Invalid code point");if((e-=4)<0)break;i.push(n>>18|240,n>>12&63|128,n>>6&63|128,63&n|128)}}return i}function $(t){for(var e=[],n=0;n<t.length;n++)e.push(255&t.charCodeAt(n));return e}function V(t,e){for(var n,o,r,i=[],a=0;a<t.length&&!((e-=2)<0);a++)n=t.charCodeAt(a),o=n>>8,r=n%256,i.push(r),i.push(o);return i}function z(t){return K.toByteArray(M(t))}function j(t,e,n,o){for(var r=0;o>r&&!(r+n>=e.length||r>=t.length);r++)e[r+n]=t[r];return r}var K=n(6),G=n(7),q=n(8);e.Buffer=t,e.SlowBuffer=b,e.INSPECT_MAX_BYTES=50,t.poolSize=8192;var X={};t.TYPED_ARRAY_SUPPORT=void 0!==o.TYPED_ARRAY_SUPPORT?o.TYPED_ARRAY_SUPPORT:r(),t.TYPED_ARRAY_SUPPORT?(t.prototype.__proto__=Uint8Array.prototype,t.__proto__=Uint8Array):(t.prototype.length=void 0,t.prototype.parent=void 0),t.isBuffer=function(t){return!(null==t||!t._isBuffer)},t.compare=function(e,n){if(!t.isBuffer(e)||!t.isBuffer(n))throw new TypeError("Arguments must be Buffers");if(e===n)return 0;for(var o=e.length,r=n.length,i=0,a=Math.min(o,r);a>i&&e[i]===n[i];)++i;return i!==a&&(o=e[i],r=n[i]),r>o?-1:o>r?1:0},t.isEncoding=function(t){switch(String(t).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"binary":case"base64":case"raw":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},t.concat=function(e,n){if(!q(e))throw new TypeError("list argument must be an Array of Buffers.");if(0===e.length)return new t(0);var o;if(void 0===n)for(n=0,o=0;o<e.length;o++)n+=e[o].length;var r=new t(n),i=0;for(o=0;o<e.length;o++){var a=e[o];a.copy(r,i),i+=a.length}return r},t.byteLength=m,t.prototype.toString=function(){var t=0|this.length;return 0===t?"":0===arguments.length?C(this,0,t):y.apply(this,arguments)},t.prototype.equals=function(e){if(!t.isBuffer(e))throw new TypeError("Argument must be a Buffer");return this===e?!0:0===t.compare(this,e)},t.prototype.inspect=function(){var t="",n=e.INSPECT_MAX_BYTES;return this.length>0&&(t=this.toString("hex",0,n).match(/.{2}/g).join(" "),this.length>n&&(t+=" ... ")),"<Buffer "+t+">"},t.prototype.compare=function(e){if(!t.isBuffer(e))throw new TypeError("Argument must be a Buffer");return this===e?0:t.compare(this,e)},t.prototype.indexOf=function(e,n){function o(t,e,n){for(var o=-1,r=0;n+r<t.length;r++)if(t[n+r]===e[-1===o?0:r-o]){if(-1===o&&(o=r),r-o+1===e.length)return n+o}else o=-1;return-1}if(n>2147483647?n=2147483647:-2147483648>n&&(n=-2147483648),n>>=0,0===this.length)return-1;if(n>=this.length)return-1;if(0>n&&(n=Math.max(this.length+n,0)),"string"==typeof e)return 0===e.length?-1:String.prototype.indexOf.call(this,e,n);if(t.isBuffer(e))return o(this,e,n);if("number"==typeof e)return t.TYPED_ARRAY_SUPPORT&&"function"===Uint8Array.prototype.indexOf?Uint8Array.prototype.indexOf.call(this,e,n):o(this,[e],n);throw new TypeError("val must be string, number or Buffer")},t.prototype.get=function(t){return console.log(".get() is deprecated. Access using array indexes instead."),this.readUInt8(t)},t.prototype.set=function(t,e){return console.log(".set() is deprecated. Access using array indexes instead."),this.writeUInt8(t,e)},t.prototype.write=function(t,e,n,o){if(void 0===e)o="utf8",n=this.length,e=0;else if(void 0===n&&"string"==typeof e)o=e,n=this.length,e=0;else if(isFinite(e))e=0|e,isFinite(n)?(n=0|n,void 0===o&&(o="utf8")):(o=n,n=void 0);else{var r=o;o=e,e=0|n,n=r}var i=this.length-e;if((void 0===n||n>i)&&(n=i),t.length>0&&(0>n||0>e)||e>this.length)throw new RangeError("attempt to write outside buffer bounds");o||(o="utf8");for(var a=!1;;)switch(o){case"hex":return k(this,t,e,n);case"utf8":case"utf-8":return w(this,t,e,n);case"ascii":return v(this,t,e,n);case"binary":return T(this,t,e,n);case"base64":return E(this,t,e,n);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return I(this,t,e,n);default:if(a)throw new TypeError("Unknown encoding: "+o);o=(""+o).toLowerCase(),a=!0}},t.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};var Q=4096;t.prototype.slice=function(e,n){var o=this.length;e=~~e,n=void 0===n?o:~~n,0>e?(e+=o,0>e&&(e=0)):e>o&&(e=o),0>n?(n+=o,0>n&&(n=0)):n>o&&(n=o),e>n&&(n=e);var r;if(t.TYPED_ARRAY_SUPPORT)r=t._augment(this.subarray(e,n));else{var i=n-e;r=new t(i,void 0);for(var a=0;i>a;a++)r[a]=this[a+e]}return r.length&&(r.parent=this.parent||this),r},t.prototype.readUIntLE=function(t,e,n){t=0|t,e=0|e,n||R(t,e,this.length);for(var o=this[t],r=1,i=0;++i<e&&(r*=256);)o+=this[t+i]*r;return o},t.prototype.readUIntBE=function(t,e,n){t=0|t,e=0|e,n||R(t,e,this.length);for(var o=this[t+--e],r=1;e>0&&(r*=256);)o+=this[t+--e]*r;return o},t.prototype.readUInt8=function(t,e){return e||R(t,1,this.length),this[t]},t.prototype.readUInt16LE=function(t,e){return e||R(t,2,this.length),this[t]|this[t+1]<<8},t.prototype.readUInt16BE=function(t,e){return e||R(t,2,this.length),this[t]<<8|this[t+1]},t.prototype.readUInt32LE=function(t,e){return e||R(t,4,this.length),(this[t]|this[t+1]<<8|this[t+2]<<16)+16777216*this[t+3]},t.prototype.readUInt32BE=function(t,e){return e||R(t,4,this.length),16777216*this[t]+(this[t+1]<<16|this[t+2]<<8|this[t+3])},t.prototype.readIntLE=function(t,e,n){t=0|t,e=0|e,n||R(t,e,this.length);for(var o=this[t],r=1,i=0;++i<e&&(r*=256);)o+=this[t+i]*r;return r*=128,o>=r&&(o-=Math.pow(2,8*e)),o},t.prototype.readIntBE=function(t,e,n){t=0|t,e=0|e,n||R(t,e,this.length);for(var o=e,r=1,i=this[t+--o];o>0&&(r*=256);)i+=this[t+--o]*r;return r*=128,i>=r&&(i-=Math.pow(2,8*e)),i},t.prototype.readInt8=function(t,e){return e||R(t,1,this.length),128&this[t]?-1*(255-this[t]+1):this[t]},t.prototype.readInt16LE=function(t,e){e||R(t,2,this.length);var n=this[t]|this[t+1]<<8;return 32768&n?4294901760|n:n},t.prototype.readInt16BE=function(t,e){e||R(t,2,this.length);var n=this[t+1]|this[t]<<8;return 32768&n?4294901760|n:n},t.prototype.readInt32LE=function(t,e){return e||R(t,4,this.length),this[t]|this[t+1]<<8|this[t+2]<<16|this[t+3]<<24},t.prototype.readInt32BE=function(t,e){return e||R(t,4,this.length),this[t]<<24|this[t+1]<<16|this[t+2]<<8|this[t+3]},t.prototype.readFloatLE=function(t,e){return e||R(t,4,this.length),G.read(this,t,!0,23,4)},t.prototype.readFloatBE=function(t,e){return e||R(t,4,this.length),G.read(this,t,!1,23,4)},t.prototype.readDoubleLE=function(t,e){return e||R(t,8,this.length),G.read(this,t,!0,52,8)},t.prototype.readDoubleBE=function(t,e){return e||R(t,8,this.length),G.read(this,t,!1,52,8)},t.prototype.writeUIntLE=function(t,e,n,o){t=+t,e=0|e,n=0|n,o||P(this,t,e,n,Math.pow(2,8*n),0);var r=1,i=0;for(this[e]=255&t;++i<n&&(r*=256);)this[e+i]=t/r&255;return e+n},t.prototype.writeUIntBE=function(t,e,n,o){t=+t,e=0|e,n=0|n,o||P(this,t,e,n,Math.pow(2,8*n),0);var r=n-1,i=1;for(this[e+r]=255&t;--r>=0&&(i*=256);)this[e+r]=t/i&255;return e+n},t.prototype.writeUInt8=function(e,n,o){return e=+e,n=0|n,o||P(this,e,n,1,255,0),t.TYPED_ARRAY_SUPPORT||(e=Math.floor(e)),this[n]=255&e,n+1},t.prototype.writeUInt16LE=function(e,n,o){return e=+e,n=0|n,o||P(this,e,n,2,65535,0),t.TYPED_ARRAY_SUPPORT?(this[n]=255&e,this[n+1]=e>>>8):D(this,e,n,!0),n+2},t.prototype.writeUInt16BE=function(e,n,o){return e=+e,n=0|n,o||P(this,e,n,2,65535,0),t.TYPED_ARRAY_SUPPORT?(this[n]=e>>>8,this[n+1]=255&e):D(this,e,n,!1),n+2},t.prototype.writeUInt32LE=function(e,n,o){return e=+e,n=0|n,o||P(this,e,n,4,4294967295,0),t.TYPED_ARRAY_SUPPORT?(this[n+3]=e>>>24,this[n+2]=e>>>16,this[n+1]=e>>>8,this[n]=255&e):L(this,e,n,!0),n+4},t.prototype.writeUInt32BE=function(e,n,o){return e=+e,n=0|n,o||P(this,e,n,4,4294967295,0),t.TYPED_ARRAY_SUPPORT?(this[n]=e>>>24,this[n+1]=e>>>16,this[n+2]=e>>>8,this[n+3]=255&e):L(this,e,n,!1),n+4},t.prototype.writeIntLE=function(t,e,n,o){if(t=+t,e=0|e,!o){var r=Math.pow(2,8*n-1);P(this,t,e,n,r-1,-r)}var i=0,a=1,s=0>t?1:0;for(this[e]=255&t;++i<n&&(a*=256);)this[e+i]=(t/a>>0)-s&255;return e+n},t.prototype.writeIntBE=function(t,e,n,o){if(t=+t,e=0|e,!o){var r=Math.pow(2,8*n-1);P(this,t,e,n,r-1,-r)}var i=n-1,a=1,s=0>t?1:0;for(this[e+i]=255&t;--i>=0&&(a*=256);)this[e+i]=(t/a>>0)-s&255;return e+n},t.prototype.writeInt8=function(e,n,o){return e=+e,n=0|n,o||P(this,e,n,1,127,-128),t.TYPED_ARRAY_SUPPORT||(e=Math.floor(e)),0>e&&(e=255+e+1),this[n]=255&e,n+1},t.prototype.writeInt16LE=function(e,n,o){return e=+e,n=0|n,o||P(this,e,n,2,32767,-32768),t.TYPED_ARRAY_SUPPORT?(this[n]=255&e,this[n+1]=e>>>8):D(this,e,n,!0),n+2},t.prototype.writeInt16BE=function(e,n,o){return e=+e,n=0|n,o||P(this,e,n,2,32767,-32768),t.TYPED_ARRAY_SUPPORT?(this[n]=e>>>8,this[n+1]=255&e):D(this,e,n,!1),n+2},t.prototype.writeInt32LE=function(e,n,o){return e=+e,n=0|n,o||P(this,e,n,4,2147483647,-2147483648),t.TYPED_ARRAY_SUPPORT?(this[n]=255&e,this[n+1]=e>>>8,this[n+2]=e>>>16,this[n+3]=e>>>24):L(this,e,n,!0),n+4},t.prototype.writeInt32BE=function(e,n,o){return e=+e,n=0|n,o||P(this,e,n,4,2147483647,-2147483648),0>e&&(e=4294967295+e+1),t.TYPED_ARRAY_SUPPORT?(this[n]=e>>>24,this[n+1]=e>>>16,this[n+2]=e>>>8,this[n+3]=255&e):L(this,e,n,!1),n+4},t.prototype.writeFloatLE=function(t,e,n){return F(this,t,e,!0,n)},t.prototype.writeFloatBE=function(t,e,n){return F(this,t,e,!1,n)},t.prototype.writeDoubleLE=function(t,e,n){return Y(this,t,e,!0,n)},t.prototype.writeDoubleBE=function(t,e,n){return Y(this,t,e,!1,n)},t.prototype.copy=function(e,n,o,r){if(o||(o=0),r||0===r||(r=this.length),n>=e.length&&(n=e.length),n||(n=0),r>0&&o>r&&(r=o),r===o)return 0;if(0===e.length||0===this.length)return 0;if(0>n)throw new RangeError("targetStart out of bounds");if(0>o||o>=this.length)throw new RangeError("sourceStart out of bounds");if(0>r)throw new RangeError("sourceEnd out of bounds");r>this.length&&(r=this.length),e.length-n<r-o&&(r=e.length-n+o);var i,a=r-o;if(this===e&&n>o&&r>n)for(i=a-1;i>=0;i--)e[i+n]=this[i+o];else if(1e3>a||!t.TYPED_ARRAY_SUPPORT)for(i=0;a>i;i++)e[i+n]=this[i+o];else e._set(this.subarray(o,o+a),n);return a},t.prototype.fill=function(t,e,n){if(t||(t=0),e||(e=0),n||(n=this.length),e>n)throw new RangeError("end < start");if(n!==e&&0!==this.length){if(0>e||e>=this.length)throw new RangeError("start out of bounds");if(0>n||n>this.length)throw new RangeError("end out of bounds");var o;if("number"==typeof t)for(o=e;n>o;o++)this[o]=t;else{var r=H(t.toString()),i=r.length;for(o=e;n>o;o++)this[o]=r[o%i]}return this}},t.prototype.toArrayBuffer=function(){if("undefined"!=typeof Uint8Array){if(t.TYPED_ARRAY_SUPPORT)return new t(this).buffer;for(var e=new Uint8Array(this.length),n=0,o=e.length;o>n;n+=1)e[n]=this[n];return e.buffer}throw new TypeError("Buffer.toArrayBuffer not supported in this browser")};var Z=t.prototype;t._augment=function(e){return e.constructor=t,e._isBuffer=!0,e._set=e.set,e.get=Z.get,e.set=Z.set,e.write=Z.write,e.toString=Z.toString,e.toLocaleString=Z.toString,e.toJSON=Z.toJSON,e.equals=Z.equals,e.compare=Z.compare,e.indexOf=Z.indexOf,e.copy=Z.copy,e.slice=Z.slice,e.readUIntLE=Z.readUIntLE,e.readUIntBE=Z.readUIntBE,e.readUInt8=Z.readUInt8,e.readUInt16LE=Z.readUInt16LE,e.readUInt16BE=Z.readUInt16BE,e.readUInt32LE=Z.readUInt32LE,e.readUInt32BE=Z.readUInt32BE,e.readIntLE=Z.readIntLE,e.readIntBE=Z.readIntBE,e.readInt8=Z.readInt8,e.readInt16LE=Z.readInt16LE,e.readInt16BE=Z.readInt16BE,e.readInt32LE=Z.readInt32LE,e.readInt32BE=Z.readInt32BE,e.readFloatLE=Z.readFloatLE,e.readFloatBE=Z.readFloatBE,e.readDoubleLE=Z.readDoubleLE,e.readDoubleBE=Z.readDoubleBE,e.writeUInt8=Z.writeUInt8,e.writeUIntLE=Z.writeUIntLE,e.writeUIntBE=Z.writeUIntBE,e.writeUInt16LE=Z.writeUInt16LE,e.writeUInt16BE=Z.writeUInt16BE,e.writeUInt32LE=Z.writeUInt32LE,e.writeUInt32BE=Z.writeUInt32BE,e.writeIntLE=Z.writeIntLE,e.writeIntBE=Z.writeIntBE,e.writeInt8=Z.writeInt8,e.writeInt16LE=Z.writeInt16LE,e.writeInt16BE=Z.writeInt16BE,e.writeInt32LE=Z.writeInt32LE,e.writeInt32BE=Z.writeInt32BE,e.writeFloatLE=Z.writeFloatLE,e.writeFloatBE=Z.writeFloatBE,e.writeDoubleLE=Z.writeDoubleLE,e.writeDoubleBE=Z.writeDoubleBE,e.fill=Z.fill,e.inspect=Z.inspect,e.toArrayBuffer=Z.toArrayBuffer,e};var tt=/[^+\/0-9A-Za-z-_]/g}).call(e,n(5).Buffer,function(){return this}())},function(t,e,n){var o="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/";!function(t){"use strict";function e(t){var e=t.charCodeAt(0);return e===a||e===d?62:e===s||e===h?63:c>e?-1:c+10>e?e-c+26+26:l+26>e?e-l:u+26>e?e-u+26:void 0}function n(t){function n(t){u[d++]=t}var o,r,a,s,c,u;if(t.length%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var l=t.length;c="="===t.charAt(l-2)?2:"="===t.charAt(l-1)?1:0,u=new i(3*t.length/4-c),a=c>0?t.length-4:t.length;var d=0;for(o=0,r=0;a>o;o+=4,r+=3)s=e(t.charAt(o))<<18|e(t.charAt(o+1))<<12|e(t.charAt(o+2))<<6|e(t.charAt(o+3)),n((16711680&s)>>16),n((65280&s)>>8),n(255&s);return 2===c?(s=e(t.charAt(o))<<2|e(t.charAt(o+1))>>4,n(255&s)):1===c&&(s=e(t.charAt(o))<<10|e(t.charAt(o+1))<<4|e(t.charAt(o+2))>>2,n(s>>8&255),n(255&s)),u}function r(t){function e(t){return o.charAt(t)}function n(t){return e(t>>18&63)+e(t>>12&63)+e(t>>6&63)+e(63&t)}var r,i,a,s=t.length%3,c="";for(r=0,a=t.length-s;a>r;r+=3)i=(t[r]<<16)+(t[r+1]<<8)+t[r+2],c+=n(i);switch(s){case 1:i=t[t.length-1],c+=e(i>>2),c+=e(i<<4&63),c+="==";break;case 2:i=(t[t.length-2]<<8)+t[t.length-1],c+=e(i>>10),c+=e(i>>4&63),c+=e(i<<2&63),c+="="}return c}var i="undefined"!=typeof Uint8Array?Uint8Array:Array,a="+".charCodeAt(0),s="/".charCodeAt(0),c="0".charCodeAt(0),u="a".charCodeAt(0),l="A".charCodeAt(0),d="-".charCodeAt(0),h="_".charCodeAt(0);t.toByteArray=n,t.fromByteArray=r}(e)},function(t,e){e.read=function(t,e,n,o,r){var i,a,s=8*r-o-1,c=(1<<s)-1,u=c>>1,l=-7,d=n?r-1:0,h=n?-1:1,p=t[e+d];for(d+=h,i=p&(1<<-l)-1,p>>=-l,l+=s;l>0;i=256*i+t[e+d],d+=h,l-=8);for(a=i&(1<<-l)-1,i>>=-l,l+=o;l>0;a=256*a+t[e+d],d+=h,l-=8);if(0===i)i=1-u;else{if(i===c)return a?NaN:(p?-1:1)*(1/0);a+=Math.pow(2,o),i-=u}return(p?-1:1)*a*Math.pow(2,i-o)},e.write=function(t,e,n,o,r,i){var a,s,c,u=8*i-r-1,l=(1<<u)-1,d=l>>1,h=23===r?Math.pow(2,-24)-Math.pow(2,-77):0,p=o?0:i-1,f=o?1:-1,g=0>e||0===e&&0>1/e?1:0;for(e=Math.abs(e),isNaN(e)||e===1/0?(s=isNaN(e)?1:0,a=l):(a=Math.floor(Math.log(e)/Math.LN2),e*(c=Math.pow(2,-a))<1&&(a--,c*=2),e+=a+d>=1?h/c:h*Math.pow(2,1-d),e*c>=2&&(a++,c/=2),a+d>=l?(s=0,a=l):a+d>=1?(s=(e*c-1)*Math.pow(2,r),a+=d):(s=e*Math.pow(2,d-1)*Math.pow(2,r),a=0));r>=8;t[n+p]=255&s,p+=f,s/=256,r-=8);for(a=a<<r|s,u+=r;u>0;t[n+p]=255&a,p+=f,a/=256,u-=8);t[n+p-f]|=128*g}},function(t,e){var n={}.toString;t.exports=Array.isArray||function(t){return"[object Array]"==n.call(t)}},function(t,e){!function(){var e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",n={rotl:function(t,e){return t<<e|t>>>32-e},rotr:function(t,e){return t<<32-e|t>>>e},endian:function(t){if(t.constructor==Number)return 16711935&n.rotl(t,8)|4278255360&n.rotl(t,24);for(var e=0;e<t.length;e++)t[e]=n.endian(t[e]);return t},randomBytes:function(t){for(var e=[];t>0;t--)e.push(Math.floor(256*Math.random()));return e},bytesToWords:function(t){for(var e=[],n=0,o=0;n<t.length;n++,o+=8)e[o>>>5]|=t[n]<<24-o%32;return e},wordsToBytes:function(t){for(var e=[],n=0;n<32*t.length;n+=8)e.push(t[n>>>5]>>>24-n%32&255);return e},bytesToHex:function(t){for(var e=[],n=0;n<t.length;n++)e.push((t[n]>>>4).toString(16)),e.push((15&t[n]).toString(16));return e.join("")},hexToBytes:function(t){for(var e=[],n=0;n<t.length;n+=2)e.push(parseInt(t.substr(n,2),16));return e},bytesToBase64:function(t){for(var n=[],o=0;o<t.length;o+=3)for(var r=t[o]<<16|t[o+1]<<8|t[o+2],i=0;4>i;i++)8*o+6*i<=8*t.length?n.push(e.charAt(r>>>6*(3-i)&63)):n.push("=");return n.join("")},base64ToBytes:function(t){t=t.replace(/[^A-Z0-9+\/]/gi,"");for(var n=[],o=0,r=0;o<t.length;r=++o%4)0!=r&&n.push((e.indexOf(t.charAt(o-1))&Math.pow(2,-2*r+8)-1)<<2*r|e.indexOf(t.charAt(o))>>>6-2*r);return n}};t.exports=n}()},function(t,e){var n={utf8:{stringToBytes:function(t){return n.bin.stringToBytes(unescape(encodeURIComponent(t)))},bytesToString:function(t){return decodeURIComponent(escape(n.bin.bytesToString(t)))}},bin:{stringToBytes:function(t){for(var e=[],n=0;n<t.length;n++)e.push(255&t.charCodeAt(n));return e},bytesToString:function(t){for(var e=[],n=0;n<t.length;n++)e.push(String.fromCharCode(t[n]));return e.join("")}}};t.exports=n},function(t,e,n){var o=n(3);t.exports={lists:{PAYOUTTYPE:[[o._("Payout"),"payout"],[o._("Stake"),"stake"]],CURRENCY:[["USD","USD"],["EUR","EUR"],["GBP","GBP"],["AUD","AUD"]],DETAILS:[[o._("statement"),"1"],[o._("ask price"),"2"],[o._("payout"),"3"],[o._("profit"),"4"],[o._("contract type"),"5"],[o._("entry spot"),"6"],[o._("entry value"),"7"],[o._("exit spot"),"8"],[o._("exit value"),"9"],[o._("barrier"),"10"]],CHECK_RESULT:[[o._("Win"),"win"],[o._("Loss"),"loss"]],CHECK_DIRECTION:[[o._("Up"),"up"],[o._("Down"),"down"],[o._("No Change"),""]]},opposites:{UPDOWN:[{CALL:o._("Up")},{PUT:o._("Down")}],ASIAN:[{ASIANU:o._("Asian Up")},{ASIAND:o._("Asian Down")}],MATCHESDIFFERS:[{DIGITMATCH:o._("Matches")},{DIGITDIFF:o._("Differs")}],EVENODD:[{DIGITEVEN:o._("Even")},{DIGITODD:o._("Odd")}],OVERUNDER:[{DIGITOVER:o._("Over")},{DIGITUNDER:o._("Under")}]},opposites_have_barrier:["MATCHESDIFFERS","OVERUNDER"],conditions:["updown","asian","matchesdiffers","evenodd","overunder"],ticktrade_markets:["r_25","r_50","r_75","r_100","rdbear","rdbull"],ticktrade_market_names:[o._("Volatility 25 Index"),o._("Volatility 50 Index"),o._("Volatility 75 Index"),o._("Volatility 100 Index"),o._("Bear Market Index"),o._("Bull Market Index")]}},function(t,e,n){var o=n(13),r=n(2),i=n(3),a=!1,s=[],c=function(){},u=function(){},l=null,d=[[i._("Please add a token first"),""]],h=[[i._("Click to select"),""]],p={numOfRuns:0,totalProfit:"",totalPayout:"",totalStake:"",lastProfit:"",lastResult:"",balance:"",tradeTable:[],tradesCount:1e4,tableSize:5},f={},g=function(t,e){r.extend(t,JSON.parse(JSON.stringify(e)))};g(f,p);var _=function(){g(p,f),b(),w()},b=function(){Object.keys(p).forEach(function(t){r("."+t).text(p[t]),"totalProfit"!==t&&"lastProfit"!==t||(+p[t]>0?r("."+t).css("color","green"):+p[t]<0?r("."+t).css("color","red"):r("."+t).css("color","black"))})},m=function(){o.mainWorkspace.undo()},y=function(){o.mainWorkspace.undo(!0)},k=function(t){t.number=p.numOfRuns,p.tradeTable.length>p.tradesCount&&p.tradeTable.shift(),p.tradeTable.push(t),w()},w=function(){r("#tradesDisplay tbody").children().remove();var t=0;p.tradeTable.forEach(function(e,n){var o=+(+e.sell_price-+e.buy_price).toFixed(2),i="<tr><td>"+e.number+"</td><td>"+e.transaction_ids.buy+"</td><td>"+e.contract_type+"</td><td>"+e.entry_tick+"</td><td>"+e.exit_tick+"</td><td>"+e.buy_price+"</td><td>"+e.sell_price+"</td><td>"+o+"</td></tr>";r("#tradesDisplay tbody").append(i),t+=1});for(var e=t;e<p.tableSize;e+=1){for(var n="<tr>",o=0;8>o;o+=1)n+="<td></td>";n+="</tr>",r("#tradesDisplay tbody").append(n)}r(".table-scroll").scrollTop(r(".table-scroll")[0].scrollHeight)},v=function(){a=!a,a&&(s.forEach(function(t){console.log.apply(console,t)}),s=[])},T=function(){s.push(Array.prototype.slice.apply(arguments))},E=function(){return a},I=function(t){r("#runButton").prop("disabled",t)};t.exports={tradeInfo:p,resetTradeInfo:_,updateTradeInfo:b,undoBlocks:m,redoBlocks:y,addTradeInfo:k,showTradeInfo:w,toggleDebug:v,addLogToQueue:T,isDebug:E,accounts:d,purchase_choices:h,disableRun:I,on_finish:c,on_strategy:u,tour:l}},function(t,e){t.exports=Blockly},function(t,e,n){var o=n(13),r=n(15),i=n(12),a=n(11),s=n(3),c=function(t){var e=new Date(t);return("0"+e.getUTCHours()).slice(-2)+":"+("0"+e.getUTCMinutes()).slice(-2)+":"+("0"+e.getUTCSeconds()).slice(-2)},u=function(t){t.stack&&(i.isDebug()?console.log("%c"+t.stack,"color: red"):i.addLogToQueue("%c"+t.stack,"color: red"));var e;e=t.message?t.message:t,$.notify(e,{position:"bottom right",className:"error"}),i.isDebug()?console.log("%cError: "+e,"color: red"):i.addLogToQueue("%cError: "+e,"color: red")},l=function(t,e,n){void 0!==e&&$.notify(t,{position:void 0===n?"bottom right":n,className:e}),i.isDebug()?console.log(t):i.addLogToQueue(t)},d=function(t,e){window.dispatchEvent(new CustomEvent(t,{detail:e}))},h=function(t){var e=t.parentBlock_;if(null===e)return null;for(;null!==e;)t=e,e=t.parentBlock_;return t},p=function(t){var e=r.getTokenList();if(o.WidgetDiv.hideIfOwner(o.mainWorkspace.getBlockById("trade").getField("ACCOUNT_LIST")),0===e.length)i.accounts=[[s._("Please add a token first"),""]],o.mainWorkspace.getBlockById("trade").getField("ACCOUNT_LIST").setValue(""),o.mainWorkspace.getBlockById("trade").getField("ACCOUNT_LIST").setText(s._("Please add a token first"));else{i.accounts=[],e.forEach(function(t){i.accounts.push([t.account_name,t.token])});var n=e[0];if(void 0!==t){var a=r.findToken(t);a>=0&&(n=e[a])}o.mainWorkspace.getBlockById("trade").getField("ACCOUNT_LIST").getValue()!==n.token&&o.mainWorkspace.getBlockById("trade").getField("ACCOUNT_LIST").setValue(n.token),o.mainWorkspace.getBlockById("trade").getField("ACCOUNT_LIST").getText()!==n.account_name&&o.mainWorkspace.getBlockById("trade").getField("ACCOUNT_LIST").setText(n.account_name)}},f=function(){var t={},e={},n=o.mainWorkspace.getBlockById("trade");if(null!==n&&null!==n.getInputTargetBlock("SUBMARKET")&&null!==n.getInputTargetBlock("SUBMARKET").getInputTargetBlock("CONDITION")){var r=n.getInputTargetBlock("SUBMARKET").getInputTargetBlock("CONDITION").type,s=a.opposites[r.toUpperCase()];i.purchase_choices=[],s.forEach(function(n,o){0===o?t={condition:Object.keys(n)[0],name:n[Object.keys(n)[0]]}:e={condition:Object.keys(n)[0],name:n[Object.keys(n)[0]]},i.purchase_choices.push([n[Object.keys(n)[0]],Object.keys(n)[0]])});var c=[];o.mainWorkspace.getAllBlocks().forEach(function(t){"purchase"===t.type&&c.push(t)}),c.forEach(function(n){var r=n.getField("PURCHASE_LIST").getValue();o.WidgetDiv.hideIfOwner(n.getField("PURCHASE_LIST")),r===t.condition?n.getField("PURCHASE_LIST").setText(t.name):r===e.condition?n.getField("PURCHASE_LIST").setText(e.name):(n.getField("PURCHASE_LIST").setValue(t.condition),n.getField("PURCHASE_LIST").setText(t.name))})}};t.exports={showError:u,log:l,getUTCTime:c,broadcast:d,findTopParentBlock:h,updateTokenList:p,addPurchaseOptions:f}},function(t,e){var n=function(){return localStorage.hasOwnProperty("tokenList")||(localStorage.tokenList=JSON.stringify([])),JSON.parse(localStorage.tokenList)},o=function(t){var e=n(),o=-1;return e.forEach(function(e,n){e.token===t&&(o=n)}),o},r=function(t){localStorage.tokenList=JSON.stringify(t)},i=function(t,e){var i=n(),a=o(t);0>a&&(i.push({account_name:e,token:t}),r(i))},a=function(t){var e=n(),i=o(t);
i>-1&&(e.splice(i,1),r(e))},s=function(){delete localStorage.tokenList},c=function(t){return localStorage.hasOwnProperty(t)},u=function(t){localStorage[t]=!0},l=function(t){delete localStorage[t]};t.exports={getTokenList:n,findToken:o,setTokenList:r,addToken:i,removeToken:a,removeAllTokens:s,isDone:c,setDone:u,setNotDone:l}},function(t,e,n){var o=n(12),r="1.1.6";o.debug?console.log("%cBinary Bot (v"+r+") started.","color: green"):o.addLogToQueue("%cBinary Bot (v"+r+") started.","color: green"),t.exports=r},function(t,e,n){var o=n(11);t.exports={ticktrade:function(t){var e=[],n=o.opposites[t.condition];return n.forEach(function(n){var o=Object.keys(n)[0],r={amount:t.amount,basis:t.payouttype,contract_type:o,currency:t.currency,duration:t.duration,duration_unit:"t"};t.hasOwnProperty("barrier")&&(r.barrier=t.barrier),e.push(r)}),e}}},function(t,e,n){var o=n(11),r=n(19),i={};i.volatility={},o.ticktrade_markets.forEach(function(t){i.volatility[t]=function(e){var n=t.toUpperCase();r.setSymbol(n),e.forEach(function(t){t.symbol=n});var o=function(t){r.submitProposal(e[0]),r.submitProposal(e[1])};return o}}),t.exports=i},function(t,e,n){var o,r,i,a,s,c,u,l,d,h,p,f=n(12),g=n(14),_=n(15),b=n(3),m=n(20),y=n(21).PlainChart,k=g.showError,w=g.log,v=new m,T=[],E=null,I=function(t){var e=0===+t.sell_price?"loss":"win";f.addTradeInfo(t),f.tradeInfo.lastProfit=+(+t.sell_price-+t.buy_price).toFixed(2),f.tradeInfo.totalStake=+(+f.tradeInfo.totalStake+ +t.buy_price).toFixed(2),f.tradeInfo.totalPayout=+(+f.tradeInfo.totalPayout+ +t.sell_price).toFixed(2),f.tradeInfo.totalProfit=+(+f.tradeInfo.totalProfit+ +f.tradeInfo.lastProfit).toFixed(2),f.tradeInfo.lastResult=e,f.updateTradeInfo();var n=[t.transaction_ids.buy,+t.buy_price,+t.sell_price,f.tradeInfo.lastProfit,t.contract_type,+t.entry_tick,g.getUTCTime(new Date(parseInt(t.entry_tick_time+"000"))),+t.exit_tick,g.getUTCTime(new Date(parseInt(t.exit_tick_time+"000"))),+(t.barrier?t.barrier:0)];w(b._("Purchase was finished, result is:")+" "+e,"win"===e?"success":"error"),f.on_finish(e,n),C(t),i=null,E=null,f.disableRun(!1)},B=function(){var t={ticks:T,trade:E};W(E)||delete t.trade,p?p.updateChart(t):(t.pipSize=+(+o.pip).toExponential().substring(3),p=y("chart",t))},C=function(t){E=t,B()},A=function(){if(a){var t="";T.length>1&&(+T.slice(-1)[0].quote>+T.slice(-2).quote?t="up":+T.slice(-1)[0].quote<+T.slice(-2).quote&&(t="down")),f.on_strategy(+T.slice(-1)[0].quote,t)}},S=function(){return+f.tradeInfo.totalProfit},U=function(t){return isNaN(parseFloat(s))?0:"NUM"===t?parseFloat(s):c+" "+parseFloat(s)},x=function(t){var e=-1;return f.accounts.forEach(function(n,o){n[1]===t&&(e=o)}),e},O=function(t){_.removeToken(t),g.updateTokenList()},R=function(){_.removeAllTokens(),g.updateTokenList(),w(b._("Logged you out!"),"info")},P=function(t){var e=x(t);if(e>=0)return void w(b._("Token already added."),"info");if(""===t)k(b._("Token cannot be empty"));else if(null!==t){var n=new m;n.authorize(t).then(function(e){n.disconnect(),_.addToken(t,e.authorize.loginid),g.updateTokenList(t),w(b._("Your token was added successfully"),"info")},function(e){n.disconnect(),O(t),k(b._("Authentication failed using token:")+" "+t)})}},D=function(t){s=t.balance,c=t.currency,f.tradeInfo.balance=c+" "+parseFloat(s),f.updateTradeInfo()},L=function(){v.send({balance:1}).then(function(t){D(t.balance)},function(t){w(b._("Could not get balance"))})},N=function(){v.events.on("tick",function(t){w(b._("tick received at:")+" "+t.tick.epoch),T=T.concat({epoch:+t.tick.epoch,quote:+t.tick.quote}),E||B(),A()}),v.events.on("history",function(t){T=[],t.history.times.forEach(function(e,n){T.push({epoch:+e,quote:+t.history.prices[n]})})})},F=function(){v.getTickHistory(r,{end:"latest",count:600,subscribe:1}).then(function(t){w(b._("Request received for history"))},function(t){w(t),G()})},Y=function(){v.subscribeToTransactions()},M=function(){v.events.on("transaction",function(t){var e=t.transaction;D(e),e.contract_id===i&&("buy"===e.action?v.unsubscribeFromAllProposals().then(function(){u=[]}):"sell"===e.action&&V())})},W=function(t){return null!==t&&(!t.hasOwnProperty("is_sold")||1===t.is_sold)},J=function(){v.events.on("proposal_open_contract",function(t){var e=t.proposal_open_contract;e.is_expired&&!e.is_valid_to_sell||W(e)&&C(e)})},H=function(t){v.events.on("proposal",function(t){2===u.length&&(u=[],a=!1),u.push(t),2===u.length&&(w(b._("Contracts are ready to be purchased by the strategy"),"info"),a=!0)})},$=function(t){v.subscribeToPriceForContractProposal(t).then(function(t){},function(t){q(),k(t)})},V=function(t){v.send({proposal_open_contract:1,contract_id:i}).then(function(e){var n=e.proposal_open_contract;n.is_expired&&(I(n),t&&t(n))},function(t){k(t),G()})},z=function(t){a=!1;var e=t===u[1].echo_req.contract_type?u[1]:u[0];w(b._("Purchased")+": "+e.proposal.longcode,"info"),v.buyContract(e.proposal.id,e.proposal.ask_price).then(function(t){i=t.buy.contract_id,v.subscribeToOpenContract(i),f.tradeInfo.numOfRuns++,f.updateTradeInfo(),f.disableRun(!0)},function(t){q(),k(t)})},j=function(){a=!1,v.unsubscribeFromAllProposals().then(function(t){l()},function(t){k(t)})},K=function(){v.events.on("authorize",function(t){if(t.error)k(t.error);else{var e=parseInt((new Date).getTime()/1e3);(void 0===d||e-d>=1)&&(d=e,w(b._("Authenticated using token:")+" "+h,"info"),i?V(function(){j()}):j(),L(),F(),Y(),X())}})},G=function(){q(),v.token=h,v.connect(),v.authorize(h)},q=function(){if(v)try{v.disconnect(),p=null}catch(t){}},X=function(t){v.getActiveSymbolsBrief().then(function(e){var n=e.active_symbols;n.forEach(function(e){e.symbol===r&&(o=e,t&&t())})})},Q=function(t){r=t},Z=function(t,e,n){""===h?k(b._("No token is available to authenticate")):(l=e,i=null,f.disableRun(!1),u=[],p=null,n?j():(h=t,q(),v=new m,N(),H(),M(),J(),K(),v.authorize(h)))};t.exports={addAccount:P,stop:q,logout:R,getTotalProfit:S,getBalance:U,submitProposal:$,purchase:z,setSymbol:Q,trade:Z}},function(t,e){t.exports=window["binary-live-api"].LiveApi},function(t,e){t.exports=window["binary-charts"]},function(t,e,n){var o=n(14),r=n(12),i=n(15),a=n(13);n(23),n(41),n(60);var s,c=n(19),u=n(3),l=null,d={};$.get("www/xml/toolbox.xml",function(t){s=a.inject("blocklyDiv",{media:"node_modules/blockly/media/",toolbox:u.xml(t.getElementsByTagName("xml")[0]),zoom:{controls:!0,wheel:!1,startScale:1,maxScale:3,minScale:.3,scaleSpeed:1.2},trashcan:!0}),$.get("www/xml/main.xml",function(t){a.Xml.domToWorkspace(t.getElementsByTagName("xml")[0],s),a.mainWorkspace.getBlockById("trade").setDeletable(!1),a.mainWorkspace.getBlockById("strategy").setDeletable(!1),a.mainWorkspace.getBlockById("finish").setDeletable(!1),o.updateTokenList(),o.addPurchaseOptions(),a.mainWorkspace.clearUndo(),d.introduction=n(61),d.welcome=n(62),d.welcome.welcome()})});var h=function(t){var e;"drop"===t.type?(t.stopPropagation(),t.preventDefault(),e=t.dataTransfer.files):e=t.target.files,e=Array.prototype.slice.apply(e);var n=e[0];n&&(n.type.match("text/xml")?p(n):o.log(u._("File is not supported: ")+n.name,"info"))},p=function(t){reader=new FileReader,reader.onload=function(t){return function(t){try{a.mainWorkspace.clear();var e=a.Xml.textToDom(t.target.result);a.Xml.domToWorkspace(e,a.mainWorkspace),o.addPurchaseOptions();var n=i.getTokenList();0!==n.length&&(a.mainWorkspace.getBlockById("trade").getField("ACCOUNT_LIST").setValue(n[0].token),a.mainWorkspace.getBlockById("trade").getField("ACCOUNT_LIST").setText(n[0].account_name)),a.mainWorkspace.clearUndo(),a.mainWorkspace.zoomToFit(),o.log(u._("Blocks are loaded successfully"),"success")}catch(r){o.showError(r)}}}(t),reader.readAsText(t)},f=function(t){t.stopPropagation(),t.preventDefault(),t.dataTransfer.dropEffect="copy"},g=document.getElementById("drop_zone");g.addEventListener("dragover",f,!1),g.addEventListener("drop",h,!1),document.getElementById("files").addEventListener("change",h,!1),$("#tutorialButton").bind("click",T),$("#stopButton").text(u._("Reset")),$("#stopButton").bind("click",I),$("#summaryPanel .exitPanel").click(function(){$(this).parent().hide()}),$("#summaryPanel").hide(),$("#summaryPanel").drags(),$("#chart").mousedown(function(t){t.stopPropagation()}),$("table").mousedown(function(t){t.stopPropagation()}),r.showTradeInfo();var _={tutorialList:".tutorialList",logout:".logout",workspace_inside:"svg > .blocklyWorkspace > .blocklyBlockCanvas",workspace:".blocklyWorkspace",toolbox:".blocklyToolboxDiv",file_management:".intro-file-management",token:".intro-token",run_stop:".intro-run-stop",trash:".blocklyTrash",undo_redo:".intro-undo-redo",summary:".intro-summary",center:"#center",flyout:".blocklyFlyoutBackground",submarket:".blocklyDraggable:contains('Submarket'):last",strategy:".blocklyDraggable:contains('Strategy'):last",finish:".blocklyDraggable:contains('Finish'):last"},b=["center","flyout","workspace_inside","trash","submarket","strategy","finish"],m=function(t){return $(_[t])},y=function(){var t=prompt(u._("Please enter your token here:"),"");c.addAccount(t)},k=function(t){var e=a.Xml.workspaceToDom(a.mainWorkspace);Array.prototype.slice.apply(e.getElementsByTagName("field")).forEach(function(t){"ACCOUNT_LIST"===t.getAttribute("name")&&t.childNodes.length>=1&&(t.childNodes[0].nodeValue="")}),Array.prototype.slice.apply(e.getElementsByTagName("block")).forEach(function(t){switch(t.getAttribute("type")){case"trade":t.setAttribute("id","trade");break;case"on_strategy":t.setAttribute("id","strategy");break;case"on_finish":t.setAttribute("id","finish");break;default:t.removeAttribute("id")}});var n=a.Xml.domToPrettyText(e);if(t)o.log(n);else{var r="binary-bot"+parseInt((new Date).getTime()/1e3)+".xml",i=new Blob([n],{type:"text/xml;charset=utf-8"});saveAs(i,r)}},w=function(){try{a.JavaScript.INFINITE_LOOP_TRAP=null;var t=a.JavaScript.workspaceToCode(a.mainWorkspace);o.log(t)}catch(e){o.showError(e)}},v=function(){try{window.LoopTrap=1e3,a.JavaScript.INFINITE_LOOP_TRAP='if (--window.LoopTrap == 0) throw "Infinite loop.";\n';var t=a.JavaScript.workspaceToCode(a.mainWorkspace);a.JavaScript.INFINITE_LOOP_TRAP=null;var e=eval;e(t),$("#stopButton").text("Stop"),$("#runButton").text("Restart"),$("#summaryPanel").show(),$("#stopButton").unbind("click",I),$("#stopButton").bind("click",B)}catch(n){o.showError(n)}},T=function S(t){t&&t.preventDefault(),l&&l.stop(),l=d[$("#tours").val()],l.start(),$("#tutorialButton").unbind("click",S),$("#tutorialButton").bind("click",E),$("#tutorialButton").text(u._("Stop!"))},E=function U(t){t&&t.preventDefault(),l&&(t&&l.stop(),l=null),$("#tutorialButton").unbind("click",U),$("#tutorialButton").bind("click",T),$("#tutorialButton").text(u._("Go!"))},I=function(t){t&&t.preventDefault(),r.resetTradeInfo(),o.log(u._("Reset successful"),"success")},B=function x(t){t&&t.preventDefault(),c.stop(),r.disableRun(!1),$("#stopButton").text(u._("Reset")),$("#runButton").text(u._("Run")),$("#stopButton").unbind("click",x),$("#stopButton").bind("click",I)},C=function(t,e){t&&Object.keys(_).forEach(function(t){if(b.indexOf(t)<0){m(t).css("opacity",e);var n=1>+e;m(t).find("button").prop("disabled",n),m(t).find("input").prop("disabled",n),m(t).find("select").prop("disabled",n)}})},A=function(t,e,n){if(t){m(e).css("opacity",n);var o=1>+n;m(e).find("button").prop("disabled",o),m(e).find("input").prop("disabled",o),m(e).find("select").prop("disabled",o)}};$("#saveXml").click(function(t){k()}),$("#addAccount").click(function(t){y()}),$("#undo").click(function(t){r.undoBlocks()}),$("#redo").click(function(t){r.redoBlocks()}),$("#showSummary").click(function(t){$("#summaryPanel").show()}),$("#run").click(function(t){v()}),$("#logout").click(function(t){c.logout()}),$("#logout").click(function(t){c.logout()}),$("#runButton").click(function(t){v()}),t.exports={uiComponents:_,getUiComponent:m,addAccount:y,saveXml:k,showCode:w,setOpacityForAll:C,setOpacity:A}},function(t,e,n){n(24),n(25),n(26),n(27),n(28),n(29),n(30),n(31),n(32),n(33),n(34),n(35),n(36),n(37),n(38),n(39),n(40)},function(t,e,n){var o=n(13),r=n(3);o.JavaScript.trade=function(t){var e=t.getFieldValue("ACCOUNT_LIST"),n=o.JavaScript.statementToCode(t,"SUBMARKET");if(""===n)throw{message:r._("You have to add a submarket first")};var i="var trade = function(trade_again){\nBot.trade.trade('"+e.trim()+"', "+n.trim()+", trade_again);\n};\ntrade();\n";return i}},function(t,e,n){var o=n(13);o.JavaScript.balance=function(t){var e=t.getFieldValue("BALANCE_TYPE"),n="Bot.trade.getBalance('"+e+"')";return[n,o.JavaScript.ORDER_ATOMIC]}},function(t,e,n){var o=n(13);o.JavaScript.notify=function(t){var e=t.getFieldValue("NOTIFICATION_TYPE"),n=o.JavaScript.valueToCode(t,"MESSAGE",o.JavaScript.ORDER_ATOMIC),r="Bot.utils.log("+n+", '"+e+"', 'bottom left');\n";return r}},function(t,e,n){var o=n(13);o.JavaScript.total_profit=function(t){var e="Bot.trade.getTotalProfit()";return[e,o.JavaScript.ORDER_ATOMIC]}},function(t,e,n){var o=n(13),r=n(11);r.ticktrade_markets.forEach(function(t){o.JavaScript[t]=function(e){if(null===this.parentBlock_)return"";var n=o.JavaScript.statementToCode(e,"CONDITION");if(!n)throw{message:"A condition has to be defined for the market"};var r="Bot.markets.volatility."+t+"("+n.trim()+")";return r}})},function(t,e,n){var o=n(13);o.JavaScript.check_direction=function(t){var e=t.getFieldValue("CHECK_DIRECTION"),n="(direction === '"+e+"')";return[n,o.JavaScript.ORDER_ATOMIC]}},function(t,e,n){var o=n(13);o.JavaScript.direction=function(t){var e="direction";return[e,o.JavaScript.ORDER_ATOMIC]}},function(t,e,n){var o=n(13);o.JavaScript.purchase=function(t){if(null===this.parentBlock_)return"";var e=t.getFieldValue("PURCHASE_LIST"),n=e;return n="Bot.trade.purchase('"+n+"');\n"}},function(t,e,n){var o=n(13);o.JavaScript.on_strategy=function(t){var e=o.JavaScript.statementToCode(t,"STRATEGY_STACK"),n="Bot.globals.on_strategy = function on_strategy(tick, direction){\n"+e+"\n};\n";return n}},function(t,e,n){var o=n(13);o.JavaScript.tick=function(t){var e="tick";return[e,o.JavaScript.ORDER_ATOMIC]}},function(t,e,n){var o=n(13);o.JavaScript.contract_check_result=function(t){var e=t.getFieldValue("CHECK_RESULT"),n="(result === '"+e+"')";return[n,o.JavaScript.ORDER_ATOMIC]}},function(t,e,n){var o=n(13);o.JavaScript.contract_details=function(t){var e="details";return[e,o.JavaScript.ORDER_ATOMIC]}},function(t,e,n){var o=n(13);o.JavaScript.on_finish=function(t){var e=o.JavaScript.statementToCode(t,"FINISH_STACK"),n="Bot.globals.on_finish = function on_finish(result, details){\n"+e+"\n};\n";return n}},function(t,e,n){var o=n(13);o.JavaScript.read_details=function(t){var e=t.getFieldValue("DETAIL_INDEX"),n="((details instanceof Array && details.length === Bot.config.lists.DETAILS.length) ? details["+(parseInt(e.trim())-1)+"] : '' )";return[n,o.JavaScript.ORDER_ATOMIC]}},function(t,e,n){var o=n(13);o.JavaScript.contract_result=function(t){var e="result";return[e,o.JavaScript.ORDER_ATOMIC]}},function(t,e,n){var o=n(13);o.JavaScript.trade_again=function(t){if(null===this.parentBlock_)return"";var e="trade(true);\n";return e}},function(t,e,n){var o=n(13),r=n(11);Object.keys(r.opposites).forEach(function(t){o.JavaScript[t.toLowerCase()]=function(e){if(null===this.parentBlock_)return"";var n,i=o.JavaScript.valueToCode(e,"DURATION",o.JavaScript.ORDER_ATOMIC),a=e.getFieldValue("PAYOUTTYPE_LIST"),s=e.getFieldValue("CURRENCY_LIST"),c=o.JavaScript.valueToCode(e,"AMOUNT",o.JavaScript.ORDER_ATOMIC);if(r.opposites_have_barrier.indexOf(t)>-1&&(n=o.JavaScript.valueToCode(e,"PREDICTION",o.JavaScript.ORDER_ATOMIC),""===n))throw{message:"All condition options are required"};if(""===t||""===i||""===a||""===s||""===c)throw{message:"All condition options are required"};var u="Bot.conditions.ticktrade({\ncondition: '"+t+"',\nduration: "+i+",\npayouttype: '"+a+"',\ncurrency: '"+s+"',\namount: ("+c+").toFixed(2),\n"+(r.opposites_have_barrier.indexOf(t)>-1&&""!==n?"barrier: "+n+",\n":"")+"})";return u}})},function(t,e,n){n(42),n(44),n(45),n(46),n(47),n(48),n(49),n(50),n(51),n(52),n(53),n(54),n(55),n(56),n(57),n(58),n(59)},function(t,e,n){var o=n(13),r=n(3),i=n(43),a=n(12);o.Blocks.trade={init:function(){this.appendDummyInput().appendField(r._("Trade With Account:")).appendField(new o.FieldDropdown(a.accounts),"ACCOUNT_LIST"),this.appendStatementInput("SUBMARKET").setCheck("Submarket").appendField(r._("Submarket")),this.setPreviousStatement(!0,null),this.setColour(60),this.setTooltip(r._("The trade block that logs in to the binary API and makes the contracts defined by submarket blocks. Accepts index to choose between the accounts.")),this.setHelpUrl("https://github.com/binary-com/binary-bot/wiki")},onchange:function(t){i.trade(this,t)}}},function(t,e,n){var o=n(13),r=n(11),i=n(14),a=n(3),s=function(t,e){var n=t.getInputTargetBlock(e);return null!==n&&"math_number"===n.type?n=n.getFieldValue("NUM").trim():""},c=function(t){return!isNaN(+t)&&parseInt(t)===parseFloat(t)},u=function(t,e,n){return!isNaN(+t)&&+t>=e&&n>=+t},l=function(t,e){"create"===e.type&&(r.ticktrade_markets.indexOf(o.mainWorkspace.getBlockById(e.blockId).type)>=0&&i.broadcast("tour:submarket_created"),r.conditions.indexOf(o.mainWorkspace.getBlockById(e.blockId).type)>=0&&i.broadcast("tour:condition_created"),"math_number"===o.mainWorkspace.getBlockById(e.blockId).type&&i.broadcast("tour:number"),"purchase"===o.mainWorkspace.getBlockById(e.blockId).type&&i.broadcast("tour:purchase_created"),"trade_again"===o.mainWorkspace.getBlockById(e.blockId).type&&i.broadcast("tour:trade_again_created")),t.childBlocks_.length>0&&r.ticktrade_markets.indexOf(t.childBlocks_[0].type)<0?(i.log(a._("The trade block can only accept submarket blocks"),"warning"),Array.prototype.slice.apply(t.childBlocks_).forEach(function(t){t.unplug()})):t.childBlocks_.length>0&&(d(t.childBlocks_[0],e),i.broadcast("tour:submarket"),e.hasOwnProperty("newInputName")&&i.addPurchaseOptions());var n=i.findTopParentBlock(t);null!==n&&(r.ticktrade_markets.indexOf(n.type)>=0||"on_strategy"===n.type||"on_finish"===n.type)&&(i.log(a._("The trade block cannot be inside binary blocks"),"warning"),t.unplug())},d=function(t,e){t.childBlocks_.length>0&&r.conditions.indexOf(t.childBlocks_[0].type)<0?(i.log(a._("Submarket blocks can only accept condition blocks"),"warning"),Array.prototype.slice.apply(t.childBlocks_).forEach(function(t){t.unplug()})):t.childBlocks_.length>0&&h(t.childBlocks_[0],e,!0),null!==t.parentBlock_&&"trade"!==t.parentBlock_.type&&(i.log(a._("Submarket blocks have to be added to the trade block"),"warning"),t.unplug())},h=function(t,e,n){if(null!==t.parentBlock_)if(r.ticktrade_markets.indexOf(t.parentBlock_.type)<0)i.log(a._("Condition blocks have to be added to submarket blocks"),"warning"),t.unplug();else if(i.broadcast("tour:condition"),!n&&("change"===e.type&&e.element&&"field"===e.element||"move"===e.type&&"string"==typeof e.newInputName)){var o=[],l=s(t,"DURATION");""!==l&&(c(l)&&u(l,5,15)?(i.broadcast("tour:ticks"),o.push("DURATION")):i.log(a._("Number of ticks must be between 5 and 10"),"warning"));var d=s(t,"AMOUNT");""!==d&&o.push("AMOUNT");var h=s(t,"PREDICTION");""!==h&&(c(h)&&u(h,0,9)?o.push("PREDICTION"):i.log(a._("Prediction must be one digit"),"warning")),o.indexOf("AMOUNT")>=0&&o.indexOf("DURATION")>=0&&("PREDICTION"===t.inputList.slice(-1)[0].name?o.indexOf("PREDICTION")>=0&&i.broadcast("tour:options"):i.broadcast("tour:options"))}},p=function(t,e,n){var o=i.findTopParentBlock(t);null===o||"on_finish"!==o.type&&"trade"!==o.type?null!==o&&"on_strategy"===o.type&&"purchase"===t.type&&i.broadcast("tour:purchase"):(i.log(n+" "+a._("must be added inside the strategy block"),"warning"),t.unplug())},f=function(t,e,n){var o=i.findTopParentBlock(t);null===o||"on_strategy"!==o.type&&"trade"!==o.type?null!==o&&"on_finish"===o.type&&"trade_again"===t.type&&i.broadcast("tour:trade_again"):(i.log(n+" "+a._("must be added inside the finish block"),"warning"),t.unplug())};t.exports={trade:l,submarket:d,condition:h,inside_strategy:p,inside_finish:f}},function(t,e,n){var o=n(13),r=n(3);o.Blocks.balance={init:function(){this.appendDummyInput().appendField(r._("Balance:")).appendField(new o.FieldDropdown([[r._("string"),"STR"],[r._("number"),"NUM"]]),"BALANCE_TYPE"),this.setOutput(!0,null),this.setColour(180),this.setTooltip(r._("Get balance number or string")),this.setHelpUrl("https://github.com/binary-com/binary-bot/wiki")}}},function(t,e,n){var o=n(13),r=n(3);o.Blocks.notify={init:function(){this.appendValueInput("MESSAGE").setCheck(null).appendField(r._("Notify type:")).appendField(new o.FieldDropdown([[r._("success"),"success"],[r._("information"),"info"],[r._("warning"),"warn"],[r._("error"),"error"]]),"NOTIFICATION_TYPE"),this.setPreviousStatement(!0,null),this.setNextStatement(!0,null),this.setColour(180),this.setTooltip(r._("Creates notification")),this.setHelpUrl("https://github.com/binary-com/binary-bot/wiki")}}},function(t,e,n){var o=n(13),r=n(3);o.Blocks.total_profit={init:function(){this.appendDummyInput().appendField(r._("Total Profit")),this.setOutput(!0,"Number"),this.setColour(180),this.setTooltip(r._("Returns the total profit")),this.setHelpUrl("https://github.com/binary-com/binary-bot/wiki")}}},function(t,e,n){var o=n(13),r=n(3),i=n(11),a=n(43);i.ticktrade_markets.forEach(function(t,e){o.Blocks[t]={init:function(){this.appendDummyInput().appendField(i.ticktrade_market_names[e]),this.appendStatementInput("CONDITION").setCheck("Condition"),this.setInputsInline(!0),this.setPreviousStatement(!0,"Submarket"),this.setColour(345),this.setTooltip(r._("Chooses the market:")+" "+i.ticktrade_market_names[e]),this.setHelpUrl("https://github.com/binary-com/binary-bot/wiki")},onchange:function(t){a.submarket(this,t)}}})},function(t,e,n){var o=n(13),r=n(3),i=n(43),a=n(11);o.Blocks.check_direction={init:function(){this.appendDummyInput().appendField(r._("Direction is")).appendField(new o.FieldDropdown(a.lists.CHECK_DIRECTION),"CHECK_DIRECTION"),this.setOutput(!0,"Boolean"),this.setColour(180),this.setTooltip(r._("True if the direction matches the selection")),this.setHelpUrl("https://github.com/binary-com/binary-bot/wiki")},onchange:function(t){i.inside_strategy(this,t,"Check Direction")}}},function(t,e,n){var o=n(13),r=n(3),i=n(43);o.Blocks.direction={init:function(){this.appendDummyInput().appendField(r._("Tick Direction")),this.setOutput(!0,"String"),this.setColour(180),this.setTooltip(r._('Returns the tick direction received by a strategy block, its value could be "up" if the tick is more than before, "down" if less than before and empty ("") if the tick is equal to the previous tick')),this.setHelpUrl("https://github.com/binary-com/binary-bot/wiki")},onchange:function(t){i.inside_strategy(this,t,"Tick Direction")}}},function(t,e,n){var o=n(13),r=n(3),i=n(43),a=n(12);o.Blocks.purchase={init:function(){this.appendDummyInput().appendField(r._("Purchase")).appendField(new o.FieldDropdown(a.purchase_choices),"PURCHASE_LIST"),this.setPreviousStatement(!0,"Purchase"),this.setColour(180),this.setTooltip(r._("Purchases a chosen contract. Accepts index to choose between the contracts.")),this.setHelpUrl("https://github.com/binary-com/binary-bot/wiki")},onchange:function(t){i.inside_strategy(this,t,"Purchase")}}},function(t,e,n){var o=n(13),r=n(3);o.Blocks.on_strategy={init:function(){this.appendDummyInput().appendField(r._("Strategy (Decide when to purchase with each tick)")),this.appendStatementInput("STRATEGY_STACK").setCheck("Purchase"),this.setColour(290),this.setTooltip(r._("This block decides what to do each time a new tick is received")),this.setHelpUrl("https://github.com/binary-com/binary-bot/wiki")}}},function(t,e,n){var o=n(13),r=n(43),i=n(3);o.Blocks.tick={init:function(){this.appendDummyInput().appendField(i._("Tick Value")),this.setOutput(!0,"Number"),this.setColour(180),this.setTooltip(i._("Returns the tick value received by a strategy block")),this.setHelpUrl("https://github.com/binary-com/binary-bot/wiki")},onchange:function(t){r.inside_strategy(this,t,"Tick Value")}}},function(t,e,n){var o=n(13),r=n(3),i=n(11),a=n(43);o.Blocks.contract_check_result={init:function(){this.appendDummyInput().appendField(r._("Result is")).appendField(new o.FieldDropdown(i.lists.CHECK_RESULT),"CHECK_RESULT"),this.setOutput(!0,"Boolean"),this.setColour(180),this.setTooltip(r._("True if the result matches the selection")),this.setHelpUrl("https://github.com/binary-com/binary-bot/wiki")},onchange:function(t){a.inside_finish(this,t,"Check Result")}}},function(t,e,n){var o=n(13),r=n(3),i=n(43);o.Blocks.contract_details={init:function(){this.appendDummyInput().appendField(r._("Contract Details")),this.setOutput(!0,"Array"),this.setColour(180),this.setTooltip(r._("Returns the list of details for the finished contract")),this.setHelpUrl("https://github.com/binary-com/binary-bot/wiki")},onchange:function(t){i.inside_finish(this,t,"Contract Details")}}},function(t,e,n){var o=n(13),r=n(3);o.Blocks.on_finish={init:function(){this.appendDummyInput().appendField(r._("On Finish (Decide what to do after the contract is finished)")),this.appendStatementInput("FINISH_STACK").setCheck("TradeAgain"),this.setColour(290),this.setTooltip(r._("This block decides what to do when a purchased contract is finished")),this.setHelpUrl("https://github.com/binary-com/binary-bot/wiki")}}},function(t,e,n){var o=n(13),r=n(3),i=n(43),a=n(11);o.Blocks.read_details={init:function(){this.appendDummyInput().appendField(r._("Contract Detail:")).appendField(new o.FieldDropdown(a.lists.DETAILS),"DETAIL_INDEX"),this.setOutput(!0,null),this.setColour(180),this.setTooltip(r._("Reads a selected option from contract details list")),this.setHelpUrl("https://github.com/binary-com/binary-bot/wiki")},onchange:function(t){i.inside_finish(this,t,"Read Contract Details")}}},function(t,e,n){var o=n(13),r=n(3),i=n(43);o.Blocks.contract_result={init:function(){this.appendDummyInput().appendField(r._("Contract Result")),this.setOutput(!0,"String"),this.setColour(180),this.setTooltip(r._("Returns the result of the finished contract")),this.setHelpUrl("https://github.com/binary-com/binary-bot/wiki")},onchange:function(t){i.inside_finish(this,t,"Contract Result")}}},function(t,e,n){var o=n(13),r=n(3),i=n(43);o.Blocks.trade_again={init:function(){this.appendDummyInput().appendField(r._("Trade Again")),this.setPreviousStatement(!0,"TradeAgain"),this.setColour(180),this.setTooltip(r._("Runs the trade block again")),this.setHelpUrl("https://github.com/binary-com/binary-bot/wiki")},onchange:function(t){i.inside_finish(this,t,"Trade Again")}}},function(t,e,n){var o=n(13),r=n(3),i=n(11),a=(n(14),n(43));Object.keys(i.opposites).forEach(function(t){o.Blocks[t.toLowerCase()]={init:function(){var e=[];i.opposites[t].forEach(function(t){var n=Object.keys(t)[0],o=t[n];e.push(o)}),this.appendDummyInput().appendField(e[0]+"/"+e[1]),this.appendValueInput("DURATION").setCheck("Number").appendField(r._("Ticks:")),this.appendDummyInput().appendField(r._("Payout:")).appendField(new o.FieldDropdown(i.lists.PAYOUTTYPE),"PAYOUTTYPE_LIST"),this.appendDummyInput().appendField(r._("Currency:")).appendField(new o.FieldDropdown(i.lists.CURRENCY),"CURRENCY_LIST"),this.appendValueInput("AMOUNT").setCheck("Number").appendField(r._("Amount:")),i.opposites_have_barrier.indexOf(t)>-1&&this.appendValueInput("PREDICTION").setCheck("Number").appendField(r._("Prediction:")),this.setInputsInline(!1),this.setPreviousStatement(!0,"Condition"),this.setColour(15),this.setTooltip(r._("Provides the contract conditions:")+" "+e[0]+"/"+e[1]),this.setHelpUrl("https://github.com/binary-com/binary-bot/wiki")},onchange:function(t){a.condition(this,t)}}})},function(t,e,n){var o=n(2);o.fn.drags=function(t){if(t=o.extend({handle:"",cursor:"move"},t),""===t.handle)var e=this;else var e=this.find(t.handle);return e.css("cursor",t.cursor).on("mousedown",function(e){if(""===t.handle)var n=o(this).addClass("draggable");else var n=o(this).addClass("active-handle").parent().addClass("draggable");var r=n.css("z-index"),i=n.outerHeight(),a=n.outerWidth(),s=n.offset().top+i-e.pageY,c=n.offset().left+a-e.pageX;n.css("z-index",1e3).parents().on("mousemove",function(t){o(".draggable").offset({top:t.pageY+s-i,left:t.pageX+c-a}).on("mouseup",function(){o(this).removeClass("draggable").css("z-index",r)})}),e.preventDefault()}).on("mouseup",function(){""===t.handle?o(this).removeClass("draggable"):o(this).removeClass("active-handle").parent().removeClass("draggable")})}},function(t,e,n){var o=n(12),r=n(22),i=n(13),a=n(3),s=[{content:"<p>"+a._("Welcome to the introduction to the binary bot, we will go through the basic steps to create a working bot.")+"</p>",target:r.getUiComponent("center"),nextButton:!0,my:"top center",at:"bottom center",setup:function(t,e){r.setOpacityForAll(u,.3)}},{content:"<p>"+a._("You will need to add the blocks to this area which is called the <b>workspace</b>.")+"</p>",target:r.getUiComponent("center"),nextButton:!0,my:"top center",at:"bottom center",setup:function(t,e){r.setOpacity(u,"workspace",1)},teardown:function(t,e){}},{content:"<p>"+a._("To start pick a <b>submarket</b> block from volatility markets. Some steps like this one don't have the <b>Next step</b> button, therefore you need to follow the instructions to go to the next step, (in this case picking a submarket from left should lead you to the next step.)")+"</p>",target:r.getUiComponent("flyout"),highlightTarget:!0,my:"left center",at:"right center",bind:["tour_submarket_created"],tour_submarket_created:function(t,e,n,o){t.next()},setup:function(t,e){window.addEventListener("tour:submarket_created",this.tour_submarket_created),i.mainWorkspace.toolbox_.tree_.children_[6].children_[0].children_[0].reveal(!0),i.mainWorkspace.toolbox_.tree_.children_[6].children_[0].children_[0].select(),r.setOpacity(u,"toolbox",1)},teardown:function(t,e){window.removeEventListener("tour:submarket_created",this.tour_submarket_created),r.setOpacity(u,"toolbox",.3)}},{content:"<p>"+a._("Great! Now add it to the <b>trade</b> block.")+"</p>",target:r.getUiComponent("workspace").find(r.uiComponents.submarket),highlightTarget:!0,my:"top center",at:"bottom center",bind:["tour_submarket_added"],tour_submarket_added:function(t,e,n,o){t.next()},setup:function(t,e){window.addEventListener("tour:submarket",this.tour_submarket_added)},teardown:function(t,e){window.removeEventListener("tour:submarket",this.tour_submarket_added),i.mainWorkspace.toolbox_.tree_.children_[6].children_[0].setExpanded(!1)}},{content:"<p>"+a._("Alright! Now pick a <b>condition</b> block.")+"</p>",target:r.getUiComponent("flyout"),highlightTarget:!0,my:"left center",at:"right center",bind:["tour_condition_created"],tour_condition_created:function(t,e,n,o){t.next()},setup:function(t,e){window.addEventListener("tour:condition_created",this.tour_condition_created),i.mainWorkspace.toolbox_.tree_.children_[6].children_[1].select(),r.setOpacity(u,"toolbox",1)},teardown:function(t,e){window.removeEventListener("tour:condition_created",this.tour_condition_created),r.setOpacity(u,"toolbox",.3)}},{content:"<p>"+a._("OK! Now add it to the submarket you added in the previous step.")+"</p>",target:r.getUiComponent("workspace").find(r.uiComponents.submarket),highlightTarget:!0,my:"left center",at:"right center",bind:["tour_condition_added"],tour_condition_added:function(t,e,n,o){t.next()},setup:function(t,e){window.addEventListener("tour:condition",this.tour_condition_added)},teardown:function(t,e){window.removeEventListener("tour:condition",this.tour_condition_added),i.mainWorkspace.toolbox_.tree_.children_[6].setExpanded(!1)}},{content:"<p>"+a._("Very good! It's time to add the options needed by the condition block, pick a number")+' (<img src="www/image/number.png"/>) '+a._("from the Math menu")+"</p>",target:r.getUiComponent("flyout"),highlightTarget:!0,my:"left center",at:"right center",bind:["tour_number_created"],tour_number_created:function(t,e,n,o){t.next()},setup:function(t,e){window.addEventListener("tour:number",this.tour_number_created),i.mainWorkspace.toolbox_.tree_.children_[1].select(),
r.setOpacity(u,"toolbox",1)},teardown:function(t,e){window.removeEventListener("tour:number",this.tour_number_created),r.setOpacity(u,"toolbox",.3)}},{content:"<p>"+a._("Click on the number block to edit its value")+' (<img src="www/image/number_editing.png"/>), '+a._("change the value to 5 and add it to the <b>ticks</b> field of the condition block")+"</p>",target:r.getUiComponent("workspace").find(r.uiComponents.submarket),highlightTarget:!0,my:"left center",at:"right center",bind:["tour_ticks_added"],tour_ticks_added:function(t,e,n,o){t.next()},setup:function(t,e){window.addEventListener("tour:ticks",this.tour_ticks_added)},teardown:function(t,e){window.removeEventListener("tour:ticks",this.tour_ticks_added)}},{content:"<p>"+a._("OK, Now add all remaining options to the condition block")+"</p>",target:r.getUiComponent("workspace").find(r.uiComponents.submarket),highlightTarget:!0,my:"left center",at:"right center",bind:["tour_options_added"],tour_options_added:function(t,e,n,o){t.next()},setup:function(t,e){i.mainWorkspace.toolbox_.tree_.children_[1].select(),window.addEventListener("tour:options",this.tour_options_added),r.getUiComponent("toolbox").css("opacity",1)},teardown:function(t,e){window.removeEventListener("tour:options",this.tour_options_added),r.getUiComponent("toolbox").css("opacity",1)}},{content:"<p>"+a._("That's it, now you have a complete trade block with its options. It's time to define a strategy")+"</p>",target:r.getUiComponent("workspace").find(r.uiComponents.submarket),highlightTarget:!0,my:"left center",at:"right center",nextButton:!0},{content:"<p>"+a._("This is a <b>Strategy</b> block. All the blocks you put in here are run for each and every tick received.")+"</p>",target:r.getUiComponent("workspace").find(r.uiComponents.strategy),highlightTarget:!0,my:"right center",at:"left center",nextButton:!0},{content:"<p>"+a._("The received tick value is in the block <b>tick</b> and the tick direction (up or down) is in the block <b>direction</b>. You can pick them from the <b>Strategy</b> menu")+"</p>",target:r.getUiComponent("flyout"),highlightTarget:!0,my:"left center",at:"right center",nextButton:!0,setup:function(t,e){r.getUiComponent("toolbox").css("opacity",1),i.mainWorkspace.toolbox_.tree_.children_[6].children_[2].reveal(!0),i.mainWorkspace.toolbox_.tree_.children_[6].children_[2].select()},teardown:function(t,e){r.getUiComponent("toolbox").css("opacity",.3)}},{content:"<p>"+a._("For this tutorial we are not going to use those blocks, so we create our strategy by adding a <b>purchase</b> block. Please pick a purchase block")+"</p>",target:r.getUiComponent("flyout"),highlightTarget:!0,my:"left center",at:"right center",bind:["tour_purchase_created"],tour_purchase_created:function(t,e,n,o){t.next()},setup:function(t,e){i.mainWorkspace.toolbox_.tree_.children_[6].children_[2].reveal(!0),i.mainWorkspace.toolbox_.tree_.children_[6].children_[2].select(),r.getUiComponent("toolbox").css("opacity",1),window.addEventListener("tour:purchase_created",this.tour_purchase_created)},teardown:function(t,e){r.getUiComponent("toolbox").css("opacity",.3),window.removeEventListener("tour:purchase_created",this.tour_purchase_created)}},{content:"<p>"+a._("Now add it to the Strategy block.")+"</p>",target:r.getUiComponent("workspace").find(r.uiComponents.strategy),highlightTarget:!0,my:"right center",at:"left center",bind:["tour_purchase_added"],tour_purchase_added:function(t,e,n,o){t.next()},setup:function(t,e){window.addEventListener("tour:purchase",this.tour_purchase_added)},teardown:function(t,e){window.removeEventListener("tour:purchase",this.tour_purchase_added)}},{content:"<p>"+a._("Nicely Done! The purchase block initiates a purchase defined by its dropdown list, e.g. if your condition block is of <b>Up/Down</b> type you will have <b>Up</b> and <b>Down</b> options on the purchase block to select from.")+"</p>",target:r.getUiComponent("workspace").find(r.uiComponents.strategy),highlightTarget:!0,my:"right center",at:"left center",nextButton:!0},{content:"<p>"+a._("A Strategy block consisting of only a purchase block means to purchase as soon as the first tick was received.")+"</p>",target:r.getUiComponent("workspace").find(r.uiComponents.strategy),highlightTarget:!0,my:"right center",at:"left center",nextButton:!0},{content:"<p>"+a._("After a purchase was started, the bot waits till the purchase is completed, and then gives the control to the <b>On Finish</b> block")+"</p>",target:r.getUiComponent("workspace").find(r.uiComponents.finish),highlightTarget:!0,my:"right center",at:"left center",nextButton:!0},{content:"<p>"+a._("Same as the Strategy block, the <b>On Finish</b> block can have multiple blocks defining its functionality. The On Finish block defines what to do when the previously purchased contract is finished.")+"</p>",target:r.getUiComponent("workspace").find(r.uiComponents.finish),highlightTarget:!0,my:"right center",at:"left center",nextButton:!0},{content:"<p>"+a._("A <b>Trade Again</b> block creates a new trade and exits from the On Finish block. Now pick a Trade Again block.")+"</p>",target:r.getUiComponent("flyout"),highlightTarget:!0,my:"left center",at:"right center",bind:["tour_trade_again_created"],tour_trade_again_created:function(t,e,n,o){t.next()},setup:function(t,e){i.mainWorkspace.toolbox_.tree_.children_[6].children_[3].reveal(!0),i.mainWorkspace.toolbox_.tree_.children_[6].children_[3].select(),r.getUiComponent("toolbox").css("opacity",1),window.addEventListener("tour:trade_again_created",this.tour_trade_again_created)},teardown:function(t,e){r.getUiComponent("toolbox").css("opacity",.3),window.removeEventListener("tour:trade_again_created",this.tour_trade_again_created)}},{content:"<p>"+a._("Now add it to the On Finish block")+"</p>",target:r.getUiComponent("workspace").find(r.uiComponents.finish),highlightTarget:!0,my:"right center",at:"left center",bind:["tour_trade_again"],tour_trade_again:function(t,e,n,o){t.next()},setup:function(t,e){window.addEventListener("tour:trade_again",this.tour_trade_again)},teardown:function(t,e){window.removeEventListener("tour:trade_again",this.tour_trade_again),i.mainWorkspace.toolbox_.tree_.children_[6].setExpanded(!1)}},{content:"<p>"+a._("Excellent! The <b>Trade Again</b> block starts a new trade immediately after the previous contract is finished, therefore creates an infinite loop which goes on and on until the Trade Again block isn't called e.g. in a logic block which its condition is unmet.")+"</p>",target:r.getUiComponent("workspace").find(r.uiComponents.finish),highlightTarget:!0,my:"right center",at:"left center",nextButton:!0},{content:"<p>"+a._("OK, that's it. Now we have a working bot which buys a contract after the first tick and then creates another trade which is exactly the same as before.")+"</p>",target:r.getUiComponent("workspace").find(r.uiComponents.finish),highlightTarget:!0,my:"right center",at:"left center",nextButton:!0,teardown:function(t,e){r.setOpacityForAll(u,1)}},{content:"<p>"+a._("If you changed a block by accident you can always undo/redo your changes using these buttons or Ctrl+Z for undo and Ctrl+Shift+Z for redo")+"</p>",target:r.getUiComponent("undo_redo"),highlightTarget:!0,my:"top center",at:"bottom center",nextButton:!0},{content:"<p>"+a._("You can save/load your blocks using these tools")+"</p>",target:r.getUiComponent("file_management"),highlightTarget:!0,my:"top center",at:"bottom center",nextButton:!0},{content:"<p>"+a._("At last! It's time to run the blocks we created. You can run/stop the blocks by clicking on these buttons. Please make sure you have chosen a Virtual Account before running the blocks.")+"</p>",target:r.getUiComponent("run_stop"),highlightTarget:!0,my:"top center",at:"bottom center",nextButton:!0},{content:"<p>"+a._("You can choose the token you want by the <b>Account</b> dropdown on the trade block. If you do not have any token in the dropdown please add one using the <b>Add Token</b> button above. Please make sure to use Virtual Account tokens for testing.")+"</p>",target:r.getUiComponent("workspace").find(r.uiComponents.submarket),highlightTarget:!0,my:"left center",at:"right center",nextButton:!0},{content:"<p>"+a._("You can add a token to the bot using the <b>Add Token</b> button.")+"</p>",target:r.getUiComponent("token"),highlightTarget:!0,my:"top center",at:"bottom center",nextButton:!0},{content:"<p>"+a._("You can see the summary of your trades by clicking on this button.")+"</p>",target:r.getUiComponent("summary"),highlightTarget:!0,my:"top center",at:"bottom center",nextButton:!0},{content:"<p>"+a._("Go ahead and run the blocks. You can stop the code anytime you want using the stop button, or reset the values in the result panels using the reset button.")+"</p>",target:r.getUiComponent("run_stop"),highlightTarget:!0,my:"top center",at:"bottom center",nextButton:!0,teardown:function(t,e){r.stopTutorial()}}],c=new Tourist.Tour({steps:s}),u=!1;t.exports={start:function(){o.tour||(u=!0,o.tour=c,o.tour.start())},stop:function(){r.setOpacityForAll(!0,1),u=!1,o.tour.stop(),i.mainWorkspace.toolbox_.tree_.children_[6].setExpanded(!1),delete o.tour}}},function(t,e,n){var o=n(12),r=n(22),i=n(15),a=n(13),s=n(3),c=[{content:"<p>"+s._("Welcome to the binary bot, a blockly based automation tool for binary.com trades")+"</p>",target:r.getUiComponent("center"),nextButton:!0,my:"top center",at:"bottom center",setup:function(t,e){r.setOpacityForAll(l,.3)}},{content:"<p>"+s._("The blocks you put in here will create a binary bot code which you can then execute using the run button.")+"</p>",target:r.getUiComponent("center"),nextButton:!0,my:"top center",at:"bottom center",setup:function(t,e){r.setOpacity(l,"workspace",1)},teardown:function(t,e){r.setOpacity(l,"workspace",.3)}},{content:"<p>"+s._("You can add blocks from here to the workspace")+"</p>",target:r.getUiComponent("toolbox"),nextButton:!0,highlightTarget:!0,my:"left center",at:"right center",setup:function(t,e){r.setOpacity(l,"toolbox",1)},teardown:function(t,e){r.setOpacity(l,"toolbox",.3)}},{content:"<p>"+s._("Erase the blocks by dropping them in here.")+"</p>",target:r.getUiComponent("trash"),nextButton:!0,highlightTarget:!0,my:"right bottom",at:"left top",setup:function(t,e){r.setOpacity(l,"trash",1)},teardown:function(t,e){r.setOpacity(l,"trash",.3)}},{content:"<p>"+s._("Use these buttons to load and save blocks")+"</p>",target:r.getUiComponent("file_management"),nextButton:!0,highlightTarget:!0,my:"top center",at:"bottom center",setup:function(t,e){r.setOpacity(l,"file_management",1)},teardown:function(t,e){r.setOpacity(l,"file_management",.3)}},{content:"<p>"+s._("Click to add a token, at least one token is needed. Get your token from")+' <a href="https://www.binary.com/user/api_tokenws" target="_blank">'+s._("here")+"</a></p>",target:r.getUiComponent("token"),nextButton:!0,highlightTarget:!0,my:"top center",at:"bottom center",setup:function(t,e){r.setOpacity(l,"token",1)},teardown:function(t,e){r.setOpacity(l,"token",.3)}},{content:"<p>"+s._("Use these buttons to Undo/Redo changes to your blocks.")+"</p>",target:r.getUiComponent("undo_redo"),nextButton:!0,highlightTarget:!0,my:"top center",at:"bottom center",setup:function(t,e){r.setOpacity(l,"undo_redo",1)},teardown:function(t,e){r.setOpacity(l,"undo_redo",.3)}},{content:"<p>"+s._("Click on this button to see the summary of your trades.")+"</p>",target:r.getUiComponent("summary"),nextButton:!0,highlightTarget:!0,my:"top center",at:"bottom center",setup:function(t,e){r.setOpacity(l,"summary",1)},teardown:function(t,e){r.setOpacity(l,"summary",.3)}},{content:"<p>"+s._("Use these buttons to run or stop your blocks, or reset your result panels.")+"</p>",target:r.getUiComponent("run_stop"),nextButton:!0,highlightTarget:!0,my:"top center",at:"bottom center",setup:function(t,e){r.setOpacity(l,"run_stop",1)},teardown:function(t,e){r.setOpacity(l,"run_stop",.3)}},{content:"<p>"+s._("Good Luck!")+"</p>",target:r.getUiComponent("center"),nextButton:!0,highlightTarget:!0,my:"top center",at:"bottom center",teardown:function(t,e){r.setOpacityForAll(l,1),r.getStorageManager().setDone("welcomeFinished"),r.stopTutorial()}}],u=new Tourist.Tour({steps:c}),l=!1;t.exports={start:function(){o.tour||(l=!0,o.tour=u,o.tour.start())},welcome:function(){i.isDone("welcomeFinished")||o.tour||(l=!0,o.tour=u,o.tour.start())},stop:function(){r.setOpacityForAll(!0,1),l=!1,o.tour.stop(),a.mainWorkspace.toolbox_.tree_.children_[6].setExpanded(!1),delete o.tour}}}]);