"use strict";(self.webpackChunk_deriv_trader=self.webpackChunk_deriv_trader||[]).push([["trade-modals"],{"./App/Components/Elements/Modals/UnsupportedContractModal/index.js":(e,t,o)=>{o.d(t,{Z:()=>u});var n=o("../../../node_modules/prop-types/index.js"),i=o.n(n),r=o("react"),a=o("@deriv/components"),l=o("@deriv/translations"),s=o("./Stores/connect.js"),c=o("@deriv/shared"),d=function(e){var t=e.disableApp,o=e.enableApp,n=e.is_loading,i=e.is_visible,s=e.onConfirm,d=e.onClose;return r.createElement(a.Dialog,{title:(0,l.localize)("We’re working on it"),confirm_button_text:(0,l.localize)("Stay on {{website_domain}}",{website_domain:c.website_name}),cancel_button_text:(0,l.localize)("Go to Binary.com"),onConfirm:s,onCancel:d,disableApp:t,enableApp:o,is_loading:n,is_closed_on_cancel:!0,is_visible:i},r.createElement(l.Localize,{i18n_default_text:"You’ve selected a trade type that is currently unsupported, but we’re working on it."}))};d.propTypes={disableApp:i().func,enableApp:i().func,is_loading:i().bool,is_visible:i().bool,onClose:i().func,onConfirm:i().func};const u=(0,s.$j)((function(e){var t=e.ui;return{disableApp:t.disableApp,enableApp:t.enableApp,is_loading:t.is_loading}}))(d)},"./App/Containers/Modals/index.js":(e,t,o)=>{o.r(t),o.d(t,{default:()=>S});var n=o("react"),i=o.n(n),r=o("@deriv/shared"),a=o("./Stores/connect.js"),l=o("./App/Components/Elements/Modals/UnsupportedContractModal/index.js"),s=o("../../../node_modules/prop-types/index.js"),c=o.n(s),d=o("@deriv/components"),u=o("@deriv/translations"),_=function(e){var t=e.disableApp,o=e.enableApp,i=e.is_loading,r=e.is_visible,a=e.onCancel,l=e.onConfirm;return n.createElement(d.Dialog,{className:"market-unavailable-modal",title:(0,u.localize)("We’re working on it"),confirm_button_text:(0,u.localize)("Stay on DTrader"),cancel_button_text:(0,u.localize)("Go to SmartTrader"),onConfirm:l,onCancel:a,is_mobile_full_width:!1,is_visible:r,disableApp:t,enableApp:o,is_loading:i},n.createElement(u.Localize,{i18n_default_text:"This market is not yet available on DTrader, but it is on SmartTrader."}))};_.propTypes={disableApp:c().func,enableApp:c().func,is_loading:c().bool,is_visible:c().bool,onCancel:c().func,onConfirm:c().func};const p=(0,a.$j)((function(e){var t=e.ui;return{disableApp:t.disableApp,enableApp:t.enableApp,is_loading:t.is_loading}}))(_);var m={buy:(0,u.localize)("Purchase Error"),cancel:(0,u.localize)("Deal Cancellation Error"),contract_update:(0,u.localize)("Contract Update Error"),sell:(0,u.localize)("Sell Error")},f=function(e){var t=e.is_visible,o=e.toggleModal,i=e.is_dashboard,a=e.is_logged_in;return n.createElement(d.Modal,{id:"dt_authorization_required_modal",is_open:t,small:!0,toggleModal:o,title:(0,u.localize)("Start trading with us")},n.createElement(d.Modal.Body,null,(0,u.localize)("Log in or create a free account to place a trade.")),n.createElement(d.Modal.Footer,null,n.createElement(d.Button,{has_effect:!0,text:(0,u.localize)("Log in"),onClick:function(){return(0,r.redirectToLogin)(a,(0,u.getLanguage)())},secondary:!0}),n.createElement(d.Button,{has_effect:!0,text:(0,u.localize)("Create free account"),onClick:function(){return(0,r.redirectToSignUp)({is_dashboard:i})},primary:!0})))};f.propTypes={is_dashboard:c().bool,is_visible:c().bool,is_logged_in:c().bool,toggleModal:c().func};const v=f;var g=o("react-router-dom"),b=function(e){var t=e.history,o=e.is_virtual,i=e.is_visible,a=e.message,l=e.toggleModal;return n.createElement(d.Modal,{id:"dt_insufficient_balance_modal",is_open:i,small:!0,is_vertical_centered:(0,r.isMobile)(),toggleModal:l,title:(0,u.localize)("Insufficient balance")},n.createElement(d.Modal.Body,null,a),n.createElement(d.Modal.Footer,null,n.createElement(d.Button,{has_effect:!0,text:o?(0,u.localize)("OK"):(0,u.localize)("Deposit now"),onClick:function(){o?l():t.push(r.routes.cashier_deposit)},primary:!0})))};b.propTypes={history:c().object,is_virtual:c().bool,is_visible:c().bool,message:c().string,toggleModal:c().func};const h=(0,g.withRouter)(b);var y=o("@deriv/components/src/components/icon"),E=o.n(y),M=["styles"];function C(){return C=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var o=arguments[t];for(var n in o)Object.prototype.hasOwnProperty.call(o,n)&&(e[n]=o[n])}return e},C.apply(this,arguments)}const z=function(e){e.styles;var t=function(e,t){if(null==e)return{};var o,n,i=function(e,t){if(null==e)return{};var o,n,i={},r=Object.keys(e);for(n=0;n<r.length;n++)o=r[n],t.indexOf(o)>=0||(i[o]=e[o]);return i}(e,t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);for(n=0;n<r.length;n++)o=r[n],t.indexOf(o)>=0||Object.prototype.propertyIsEnumerable.call(e,o)&&(i[o]=e[o])}return i}(e,M);return i().createElement("svg",C({width:"128",height:"128",fill:"none",xmlns:"http://www.w3.org/2000/svg"},t),i().createElement("path",{d:"M100 8H18A10 10 0 008 18v82a10 10 0 0010 10h82a10 10 0 0010-10V18a10 10 0 00-10-10z",fill:"#E0F0F0"}),i().createElement("path",{d:"M58.83 72a29.22 29.22 0 0029.2-29.24 29.22 29.22 0 00-29.2-29.24 29.23 29.23 0 00-29.21 29.24A29.23 29.23 0 0058.82 72z",fill:"#F5F5F5"}),i().createElement("path",{d:"M58.83 67.63a24.86 24.86 0 0024.85-24.87 24.86 24.86 0 10-24.85 24.87z",fill:"#fff"}),i().createElement("path",{d:"M58.91 43.15a9.44 9.44 0 10-.01-18.87 9.44 9.44 0 00.01 18.87zM51.32 43.54s2.07 2.69 7.59 2.69 7.3-2.7 7.3-2.7 8.45 3.26 8.45 12.13c0 0-4.38 6.45-15.52 6.45s-16.22-6.45-16.22-6.45.32-9.56 8.4-12.12z",fill:"#84ABAE"}),i().createElement("path",{d:"M87 93H31a3 3 0 100 6h56a3 3 0 100-6zM87 81H31a3 3 0 100 6h56a3 3 0 100-6z",fill:"#fff"}),i().createElement("path",{d:"M99 120a21 21 0 100-42 21 21 0 000 42z",fill:"#FF6444"}),i().createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M110.43 98.22L100.4 87.6c-.38-.4-.85-.6-1.4-.6-.56 0-1.03.2-1.39.6L87.6 98.22c-.4.41-.59.9-.59 1.48 0 .57.2 1.06.59 1.47l1.15 1.22c.37.41.83.62 1.39.62.55 0 1.01-.2 1.38-.62l4.53-4.78v11.48c0 .57.2 1.03.58 1.38.39.35.85.53 1.4.53h1.97c.54 0 1-.18 1.39-.53.39-.35.58-.81.58-1.38V97.61l4.53 4.78c.37.41.83.62 1.38.62.55 0 1.02-.2 1.4-.62l1.16-1.22c.38-.42.57-.91.57-1.47 0-.56-.19-1.06-.57-1.48z",fill:"#fff"}))};var w=o("@deriv/account/dist/account/js/populate-verification-status"),x=o.n(w),A=function(e){var t,o=e.account_status,i=e.is_open,a=e.toggleModal,l=x()(o),s=l.has_poa,c=l.has_poi;return t=c&&s?"Your documents are being reviewed, this can take up to 3 days.":c&&!s?"Please verify your proof of address to continue.":!c&&s?"Please verify your proof of identity to continue.":"Please verify your proof of identity and address to continue.",n.createElement(d.Modal,{className:"poa-poi-verification",width:"480px",id:"poi_poa_modal",is_open:i,has_close_icon:!1,title:n.createElement("div",{className:"title-element"},n.createElement(z,null),n.createElement(d.Text,{className:"title-text",as:"p",color:"prominent",line_height:"l",weight:"bold",align:"center"},n.createElement(u.Localize,{i18n_default_text:t})))},n.createElement(d.Modal.Body,null,n.createElement("div",{className:"proof-of-identity-text-container"},n.createElement(d.Text,{size:"xs",as:"span",line_height:"m"},n.createElement(u.Localize,{i18n_default_text:"Upload document to verify your identity"})),c?n.createElement(E(),{icon:"IcCheckmark",color:"green",size:24}):n.createElement(d.ButtonLink,{className:"arrow-icon-container",to:r.routes.proof_of_identity,onClick:a,primary:!0},n.createElement(E(),{icon:"IcArrowRight",color:"active",size:24}))),n.createElement("div",{className:"proof-of-address-text-container"},n.createElement(d.Text,{size:"xs",as:"span",line_height:"m"},n.createElement(u.Localize,{i18n_default_text:"Upload document to verify your address"})),s?n.createElement(E(),{icon:"IcCheckmark",color:"green",size:24}):n.createElement(d.ButtonLink,{className:"arrow-icon-container",to:r.routes.proof_of_address,onClick:a,primary:!0},n.createElement(E(),{icon:"IcArrowRight",color:"active",size:24})))),n.createElement(d.Modal.Footer,null,n.createElement("div",{className:"footer-container bottom-button"},n.createElement(d.Button,{has_effect:!0,secondary:!0,onClick:a,text:(0,u.localize)("Not now")}))))};A.propTypes={closePoaPoiInformModal:c().func,is_poi_poa_inform_modal_visible:c().bool,account_status:c().object};const k=(0,a.$j)((function(e){return{account_status:e.client.account_status}}))(A);var j=function(e){var t=e.is_virtual,o=e.is_visible,i=e.is_logged_in,r=e.onConfirm,a=e.services_error,l=a.code,s=a.message;return l&&s?"AuthorizationRequired"===l?n.createElement(v,{is_logged_in:i,is_visible:o,toggleModal:r}):"InsufficientBalance"===l?n.createElement(h,{is_virtual:t,is_visible:o,message:s,toggleModal:r}):"PleaseAuthenticate"===l?n.createElement(k,{is_open:o,toggleModal:r}):n.createElement(d.Modal,{is_open:o,small:!0,title:m[a.type],toggleModal:r},n.createElement(d.Modal.Body,null,s),n.createElement(d.Modal.Footer,null,n.createElement(d.Button,{has_effect:!0,text:(0,u.localize)("OK"),onClick:r,primary:!0}))):null};j.propTypes={is_visible:c().bool,is_virtual:c().bool,is_logged_in:c().bool,onConfirm:c().func,services_error:c().object};const P=j,S=(0,a.$j)((function(e){var t=e.ui,o=e.modules,n=e.common,i=e.client;return{is_market_unavailable_visible:t.has_only_forward_starting_contracts,is_services_error_visible:t.is_services_error_visible,is_unsupported_contract_modal_visible:t.is_unsupported_contract_modal_visible,is_virtual:i.is_virtual,is_logged_in:i.is_logged_in,proposal_info:o.trade.proposal_info,purchase_info:o.trade.purchase_info,resetPreviousSymbol:o.trade.resetPreviousSymbol,clearPurchaseInfo:o.trade.clearPurchaseInfo,resetPurchase:o.trade.requestProposal,services_error:n.services_error,setHasOnlyForwardingContracts:t.setHasOnlyForwardingContracts,toggleServicesErrorModal:t.toggleServicesErrorModal,toggleUnsupportedContractModal:t.toggleUnsupportedContractModal}}))((function(e){var t=e.clearPurchaseInfo,o=e.is_unsupported_contract_modal_visible,i=e.is_market_unavailable_visible,a=e.is_services_error_visible,s=e.is_virtual,c=e.is_logged_in,d=e.toggleUnsupportedContractModal,u=e.setHasOnlyForwardingContracts,_=e.resetPreviousSymbol,m=e.toggleServicesErrorModal,f=e.resetPurchase,v=e.services_error,g=function(){u(!1),_()},b=function(){d(!1)};return n.createElement(n.Fragment,null,n.createElement(l.Z,{onConfirm:b,onClose:function(){window.open((0,r.urlFor)("user/portfoliows",{legacy:!0}),"_blank"),b()},is_visible:o}),n.createElement(p,{onConfirm:function(){g()},onCancel:function(){window.open((0,r.getUrlSmartTrader)()),g()},is_visible:i}),n.createElement(P,{onConfirm:function(){m(!1),"buy"===v.type&&(t(),f())},services_error:v,is_visible:a,is_virtual:s,is_logged_in:c}))}))}}]);