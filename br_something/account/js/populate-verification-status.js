!function(e,t){"object"==typeof exports&&"object"==typeof module?module.exports=t():"function"==typeof define&&define.amd?define([],t):"object"==typeof exports?exports["@deriv/account"]=t():e["@deriv/account"]=t()}(self,(function(){return(()=>{"use strict";var e={d:(t,n)=>{for(var o in n)e.o(n,o)&&!e.o(t,o)&&Object.defineProperty(t,o,{enumerable:!0,get:n[o]})},o:(e,t)=>Object.prototype.hasOwnProperty.call(e,t)},t={};function n(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,o)}return n}function o(e){for(var t=1;t<arguments.length;t++){var o=null!=arguments[t]?arguments[t]:{};t%2?n(Object(o),!0).forEach((function(t){i(e,t,o[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(o)):n(Object(o)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(o,t))}))}return e}function i(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}e.d(t,{default:()=>r});const r=function(e){var t,n,i,r,l,u,d,s=o(o({},null==e?void 0:e.authentication),{},{attempts:(null==e||null===(t=e.authentication)||void 0===t?void 0:t.attempts)||{},needs_verification:(null==e||null===(n=e.authentication)||void 0===n?void 0:n.needs_verification)||{}}),a=s.attempts,c=s.document,v=s.identity,f=s.needs_verification,p=!(c&&"none"===c.status),b=!(v&&"none"===v.status),y=f.length&&f.includes("document"),_=f.length&&f.includes("identity"),m=function(t){var n;return null==e||null===(n=e.status)||void 0===n?void 0:n.some((function(e){return e===t}))},O=m("allow_document_upload"),j=m("allow_poi_resubmission"),h=m("idv_disallowed"),w=null==v?void 0:v.status,g=null==v||null===(i=v.services)||void 0===i?void 0:i.idv,P=null==v||null===(r=v.services)||void 0===r?void 0:r.onfido,x=null==v||null===(l=v.services)||void 0===l?void 0:l.manual,D=null==a?void 0:a.latest;return{allow_document_upload:O,allow_poi_resubmission:j,has_attempted_idv:!(null==a||null===(u=a.history)||void 0===u||!u.length||null==a||null===(d=a.history)||void 0===d||!d.find((function(e){return"idv"===e.service}))),has_poa:p,has_poi:b,identity_last_attempt:D,identity_status:w,idv:g,is_idv_disallowed:h,manual:x,needs_poa:y,needs_poi:_,needs_verification:f,onfido:P}};return t.default})()}));